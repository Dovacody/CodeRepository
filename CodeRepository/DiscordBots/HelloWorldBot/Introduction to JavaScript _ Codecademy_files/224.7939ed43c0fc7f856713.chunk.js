(window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[]).push([[224],{"+gav":function(e,t,n){"use strict";var o=n("hhPA"),r=n.n(o),i=n("+gt8"),a={name:"AdapterStore",init:function init(){this._adapter=null,this._broadcast=null,this.listenToMany({onBroadcast:i.a.broadcast,onNewAdapter:i.a.newAdapter})},onBroadcast:function onBroadcast(){!this._adapter||!this._broadcast||arguments.length<1||this._broadcast.apply(this,arguments)},onNewAdapter:function onNewAdapter(e){this._adapter=e,this._broadcast=e.createComponentBroadcastFunction("Reflux"),this.trigger()}};r.a.createStore(a)},"+gt8":function(e,t,n){"use strict";var o=n("hhPA"),r=n.n(o);t.a=r.a.createActions(["broadcast","newAdapter"])},"+ocM":function(e,t,n){e.exports={copyField:"copyField__2N7wPKWadhQPLJQLoOk72o",copyInputField:"copyInputField__iHvYgSU-g203KG0uSEeXW",errorMsg:"errorMsg__2DE6fHS_MkPM0BGDUqXHd_",responseMsgContainer:"responseMsgContainer__X_VjJDApqFnhgmjMby12c",loadingContainer:"loadingContainer__3aE1eUMo8Z9d9zKSsfDm1T"}},"21f3":function(e,t,n){"use strict";var o=n("mwIZ"),r=n.n(o),i=n("TSYQ"),a=n.n(i),s=n("NkHZ"),l=n("kBm1"),c=n("QAzi"),u=n("eikI"),p=n("NDib"),f=n("q1tI"),h=n.n(f),d=n("fhzG"),m=n.n(d),y=n("BzM2"),g=n("ydTQ"),b=m()({displayName:"WorkspaceStatusMessage",mixins:[y.StateMixin.connect(g.a,"workspaceStatusType"),y.StateMixin.connect(g.a,"workspaceStatusMessage")],getInitialState:function getInitialState(){return{visible:!1,isHovering:!1}},componentDidUpdate:function componentDidUpdate(e,t){var n=this,o=this.state.workspaceStatusType,r=this.state.workspaceStatusMessage;if((o!==t.workspaceStatusType||r!==t.workspaceStatusMessage)&&this.state.workspaceStatusMessage&&(this.setState({visible:!0}),this.state.hideTimeout&&(clearTimeout(this.state.hideTimeout),this.setState({hideTimeout:null})),"success"===this.state.workspaceStatusType)){var i=setTimeout(function(){n.setState({visible:!1})},3e3);this.setState({hideTimeout:i})}},onMouseOver:function onMouseOver(){this.state.isHovering=!0,this.setState({isHovering:this.state.isHovering,visible:!0})},onMouseLeave:function onMouseLeave(){this.setState({visible:!1,isHovering:!1})},render:function render(){var e="neutral"===this.state.workspaceStatusType,t=a()({"fcn-godex-status--hidden":!this.state.visible,"fcn-godex-status":!0,"fcn-godex-status--neutral":e,"fcn-godex-status--error":"error"===this.state.workspaceStatusType||"idle"===this.state.workspaceStatusType,"fcn-godex-status--success":"success"===this.state.workspaceStatusType,"fcn-godex-status--stable":this.state.isHovering&&"error"!==this.state.workspaceStatusType});return h.a.createElement("div",{className:"fcn-godex-status-container",onMouseEnter:this.onMouseOver,onMouseLeave:this.onMouseLeave},h.a.createElement("div",{className:t},h.a.createElement("span",{ref:"statusMessage"},this.state.workspaceStatusMessage),h.a.createElement("div",{className:"fcn-godex-status__glow"})))}}),_=n("2oex"),v=n("/MKj"),C=n("CWAm"),w=n("y3J+"),O=n("NuJE"),S=n("QqFe"),k=n("TUVh"),P=n("YSKS"),E=n.n(P);function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function _possibleConstructorReturn(e,t){return!t||"object"!==_typeof(t)&&"function"!=typeof t?function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var T=function(e){function Idle(){var e,t;!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Idle);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(t=_possibleConstructorReturn(this,(e=_getPrototypeOf(Idle)).call.apply(e,[this].concat(o)))).state={minutes:t.props.focusInterval},t.handleChange=function(e){t.setState({minutes:e.target.value})},t.handleSubmit=function(e){e.preventDefault(),t.props.startTimer(t.state.minutes)},t}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}(Idle,f["Component"]),function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}(Idle,[{key:"render",value:function render(){var e=this,t=this.props.startTimer;return h.a.createElement("div",null,h.a.createElement("h2",null,"Focus Timer"),h.a.createElement("div",null,"Set a timer to stay focused and get more done!"),h.a.createElement("form",{action:"start-timer",id:"timer-form",onSubmit:this.handleSubmit,className:E.a.timeForm},h.a.createElement(k.a,{className:E.a.timeInputBox,value:this.state.minutes,onChange:this.handleChange}),h.a.createElement("span",{className:E.a.minutesLabel},"Minutes")),h.a.createElement(S.a,{onClick:function onClick(){return t(e.state.minutes)},className:E.a.commitButton,outline:!1,theme:"brand-purple"},"Start"))}}]),Idle}(),x=n("ZMKu"),R=n("FMJz"),N=n.n(R);var j=function AnimatedTimerCircle(e){var t=e.circleRef,n=e.circleRadius,o=e.className,r=e.circleLength,i=Math.round(n/7),a=n+i;return h.a.createElement("svg",{height:2*a,width:2*a,className:o},h.a.createElement("circle",{className:N.a.circleWatermark,cx:a,cy:a,r:n,strokeWidth:i}),h.a.createElement("circle",{ref:t,className:N.a.circle,cx:a,cy:a,r:n,strokeWidth:i,strokeDasharray:r,strokeDashoffset:r,transform:"rotate(-90, ".concat(a,", ").concat(a,")")}))},M=n("5afJ"),F=n.n(M);function Running_typeof(e){return(Running_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Running_defineProperties(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function Running_possibleConstructorReturn(e,t){return!t||"object"!==Running_typeof(t)&&"function"!=typeof t?function Running_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Running_getPrototypeOf(e){return(Running_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Running_setPrototypeOf(e,t){return(Running_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var W=1500,B={enter:{scale:1,opacity:1},exit:{scale:1.5,opacity:0,y:"-40px",transition:{duration:W/1e3}}},D=function(e){function Running(e){var t;return function Running_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Running),(t=Running_possibleConstructorReturn(this,Running_getPrototypeOf(Running).call(this,e))).state={isVisible:!0},t.pauseTimerAndAnimation=function(){var e=t.props.pauseTimer;t.circleRef.current&&(t.circleRef.current.style.webkitAnimationPlayState="paused"),clearTimeout(t.focusSessionCompletedAnimation),e()},t.resumeTimerAndAnimation=function(){var e=t.props.resumeTimer;t.circleRef.current&&(t.circleRef.current.style.webkitAnimationPlayState="running"),e(),t.setEndingAnimation()},t.setEndingAnimation=function(){t.focusSessionCompletedAnimation=setTimeout(function(){t.setState({isVisible:!1})},1e3*t.props.secondsRemaining-W)},t.circleRef=h.a.createRef(),t}return function Running_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Running_setPrototypeOf(e,t)}(Running,f["Component"]),function Running_createClass(e,t,n){return t&&Running_defineProperties(e.prototype,t),n&&Running_defineProperties(e,n),e}(Running,[{key:"componentDidMount",value:function componentDidMount(){this.circleRef.current.style.animationDuration="".concat(60*this.props.focusIntervalMinutes-1,"s"),this.circleRef.current.style.animationDelay="-".concat(60*this.props.focusIntervalMinutes-this.props.secondsRemaining,"s"),this.setEndingAnimation()}},{key:"render",value:function render(){var e=this.props,t=e.isTimerPaused,n=e.cancelTimer,o=e.secondsRemaining,r=this.state.isVisible,i=Math.ceil(o/60);return h.a.createElement("div",null,h.a.createElement("h2",{className:F.a.header},"Time Remaining"),h.a.createElement("div",{className:F.a.timeRemainingSection},h.a.createElement(x.a,null,r&&h.a.createElement(x.b.div,{key:"circle",initial:!1,animate:"enter",exit:"exit",variants:B},h.a.createElement(j,{circleRef:this.circleRef,circleRadius:75,circleLength:471,className:F.a.timeCircle}))),h.a.createElement("div",{className:F.a.time},h.a.createElement("strong",{className:F.a.strong},i),h.a.createElement("div",{className:F.a.timeRemaining},"Minute",i>1&&"s"," left"))),h.a.createElement("div",null,h.a.createElement(S.a,{onClick:n,className:F.a.buttonWithMargin,theme:"brand-purple",outline:!0},"Cancel"),t?h.a.createElement(S.a,{onClick:this.resumeTimerAndAnimation,outline:!1,theme:"brand-purple"},"Resume"):h.a.createElement(S.a,{onClick:this.pauseTimerAndAnimation,outline:!1,theme:"brand-purple"},"Pause")))}}]),Running}(),I=n("vYtj"),L=n.n(I),A=n("2oVU"),H=n.n(A);function Finished_typeof(e){return(Finished_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Finished_defineProperties(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function Finished_possibleConstructorReturn(e,t){return!t||"object"!==Finished_typeof(t)&&"function"!=typeof t?function Finished_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Finished_getPrototypeOf(e){return(Finished_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Finished_setPrototypeOf(e,t){return(Finished_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var z=function(e){function Finished(){return function Finished_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Finished),Finished_possibleConstructorReturn(this,Finished_getPrototypeOf(Finished).apply(this,arguments))}return function Finished_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Finished_setPrototypeOf(e,t)}(Finished,f["Component"]),function Finished_createClass(e,t,n){return t&&Finished_defineProperties(e.prototype,t),n&&Finished_defineProperties(e,n),e}(Finished,[{key:"render",value:function render(){var e=this.props.resetTimer;return h.a.createElement(h.a.Fragment,null,h.a.createElement("h2",null,"Great job!"),h.a.createElement("p",null,"Take a short break and keep going!"),h.a.createElement("div",{className:H.a.image},h.a.createElement("img",{src:L.a,alt:"Finished"})),h.a.createElement(S.a,{onClick:e,className:H.a.resetButton,outline:!1,theme:"brand-purple"},"Restart"))}}]),Finished}(),U=n("oqPb"),Q=n.n(U),q=n("Qq7W"),G=n.n(q);function Errored_typeof(e){return(Errored_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Errored_defineProperties(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function Errored_possibleConstructorReturn(e,t){return!t||"object"!==Errored_typeof(t)&&"function"!=typeof t?function Errored_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Errored_getPrototypeOf(e){return(Errored_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Errored_setPrototypeOf(e,t){return(Errored_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var K=function(e){function Errored(){return function Errored_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Errored),Errored_possibleConstructorReturn(this,Errored_getPrototypeOf(Errored).apply(this,arguments))}return function Errored_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Errored_setPrototypeOf(e,t)}(Errored,f["Component"]),function Errored_createClass(e,t,n){return t&&Errored_defineProperties(e.prototype,t),n&&Errored_defineProperties(e,n),e}(Errored,[{key:"render",value:function render(){var e=this.props.resetTimer;return h.a.createElement(h.a.Fragment,null,h.a.createElement("h2",null,"Focus Timer"),h.a.createElement("p",{className:G.a.error},"Oops, the time you set is invalid. Please enter a number."),h.a.createElement("div",{className:G.a.image},h.a.createElement("img",{src:Q.a,alt:"Errored Codey"})),h.a.createElement(S.a,{onClick:e,className:G.a.resetButton,outline:!1,theme:"brand-purple"},"Restart"))}}]),Errored}();function _extends(){return(_extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}function AlarmIcon(e){return h.a.createElement("svg",_extends({width:"24",height:"24",xmlns:"http://www.w3.org/2000/svg"},e),h.a.createElement("g",{fill:"none",fillRule:"evenodd"},h.a.createElement("path",{d:"M20 7.067L16.32 4l-1.032 1.215 3.68 3.067L20 7.067zM8.704 5.215L7.68 4 4 7.059l1.032 1.215 3.672-3.059zM12 6a7 7 0 1 0 .001 14.001A7 7 0 0 0 12 6zm0 12c-2.764 0-5-2.236-5-5s2.236-5 5-5 5 2.236 5 5-2.236 5-5 5z",fill:"#FFF"}),h.a.createElement("path",{fill:"#FFF",fillRule:"nonzero",d:"M12.5 13h2.526v1H11.5V9.04h1z"})))}var V=n("Pduz"),J=n.n(V);function FocusTimer_typeof(e){return(FocusTimer_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function FocusTimer_defineProperties(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function FocusTimer_possibleConstructorReturn(e,t){return!t||"object"!==FocusTimer_typeof(t)&&"function"!=typeof t?function FocusTimer_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function FocusTimer_getPrototypeOf(e){return(FocusTimer_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function FocusTimer_setPrototypeOf(e,t){return(FocusTimer_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var Z=function(e){function FocusTimer(e){var t;return function FocusTimer_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,FocusTimer),(t=FocusTimer_possibleConstructorReturn(this,FocusTimer_getPrototypeOf(FocusTimer).call(this,e))).state={popoverOpenOverride:void 0},t.updateTimer=function(){t.timerId&&(sessionStorage.getItem("timerPaused")||(t.calculateSecondsRemaining()<=1&&t.endTimer(),t.forceUpdate()))},t.endTimer=function(){window.clearInterval(t.timerId),t.timerId=null,t.setState({popoverOpenOverride:!0}),t.forceUpdate()},t.startTimer=function(e){(0,t.props.trackClick)({data:{target:"focustimer_commit"}}),t.timerId=window.setInterval(t.updateTimer,1e3),sessionStorage.setItem("timerDuration","".concat(e)),sessionStorage.setItem("timerStartTime","".concat(Date.now())),t.circleRef.current.style.animationDuration="".concat(60*e-1,"s"),t.circleRef.current.style.animationDelay="0s",t.forceUpdate()},t.resetTimer=function(){t.timerId&&(window.clearInterval(t.timerId),t.timerId=null),sessionStorage.removeItem("timerStartTime"),sessionStorage.removeItem("timerPaused"),t.forceUpdate()},t.pauseTimer=function(){(0,t.props.trackClick)({data:{target:"focustimer_pause"}}),t.circleRef.current.style.webkitAnimationPlayState="paused",sessionStorage.setItem("timerPaused","".concat(Date.now())),t.forceUpdate()},t.resumeTimer=function(){(0,t.props.trackClick)({data:{target:"focustimer_resume"}}),t.circleRef.current.style.webkitAnimationPlayState="running";var e=Number(sessionStorage.getItem("timerStartTime"))+(Date.now()-Number(sessionStorage.getItem("timerPaused")));sessionStorage.setItem("timerStartTime","".concat(e)),sessionStorage.removeItem("timerPaused"),t.forceUpdate()},t.clearPopoverOpenOverride=function(){(0,t.props.trackClick)({data:{target:"focustimer"}}),t.setState({popoverOpenOverride:void 0})},t.calculateSecondsRemaining=function(){return(Number(sessionStorage.getItem("timerStartTime"))+6e4*Number(sessionStorage.getItem("timerDuration"))-Date.now())/1e3},t.circleRef=h.a.createRef(),t}return function FocusTimer_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&FocusTimer_setPrototypeOf(e,t)}(FocusTimer,f["Component"]),function FocusTimer_createClass(e,t,n){return t&&FocusTimer_defineProperties(e.prototype,t),n&&FocusTimer_defineProperties(e,n),e}(FocusTimer,[{key:"componentDidMount",value:function componentDidMount(){var e=sessionStorage.getItem("timerDuration");if(e||sessionStorage.setItem("timerDuration","15"),sessionStorage.getItem("timerStartTime")){if(this.timerId=window.setInterval(this.updateTimer,1e3),!this.circleRef.current)return;this.circleRef.current.style.animationDuration="".concat(60*parseFloat(e)-1,"s");var t=this.calculateSecondsRemaining();this.circleRef.current.style.animationDelay="-".concat(60*parseFloat(e)-t,"s")}}},{key:"renderTimerState",value:function renderTimerState(){var e,t,n=this,o=Number(sessionStorage.getItem("timerDuration")),r=!!sessionStorage.getItem("timerPaused");return sessionStorage.getItem("timerStartTime")?(t=this.calculateSecondsRemaining(),e=Number.isNaN(t)?"errored":t>1?"running":"finished"):e="idle",{idle:h.a.createElement(T,{startTimer:this.startTimer,focusInterval:o}),running:h.a.createElement(D,{focusIntervalMinutes:o,secondsRemaining:t,cancelTimer:function cancelTimer(){(0,n.props.trackClick)({data:{target:"focustimer_cancel"}}),n.resetTimer()},pauseTimer:this.pauseTimer,resumeTimer:this.resumeTimer,isTimerPaused:r}),finished:h.a.createElement(z,{resetTimer:this.resetTimer}),errored:h.a.createElement(K,{resetTimer:this.resetTimer})}[e]}},{key:"render",value:function render(){var e=!!this.timerId,t=a()({[J.a.alarm]:!0,[J.a.activeAlarm]:e}),n=a()({[J.a.timerCircle]:!0,[J.a.inactiveTimerCircle]:!e}),o=h.a.createElement("div",{className:J.a.alarmContainer},h.a.createElement(AlarmIcon,{className:t,"aria-label":"focus timer tool",role:"img"}),h.a.createElement(j,{circleRef:this.circleRef,circleRadius:14,circleLength:88,className:n}));return h.a.createElement("div",{className:J.a.focusTimerToolContainer},h.a.createElement(w.a,{clickTarget:o,className:J.a.dropdownToggle,open:this.state.popoverOpenOverride,onToggle:this.clearPopoverOpenOverride,showNipple:!1},h.a.createElement(O.a,{column:!0,className:J.a.dropdown},h.a.createElement("div",{className:J.a.content},this.renderTimerState()))))}}]),FocusTimer}(),X={trackClick:C.g},Y=Object(v.connect)(null,X)(Z),$=n("CWVX"),ee=n.n($);function Header_typeof(e){return(Header_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Header_extends(){return(Header_extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}function Header_defineProperties(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function Header_possibleConstructorReturn(e,t){return!t||"object"!==Header_typeof(t)&&"function"!=typeof t?function Header_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Header_getPrototypeOf(e){return(Header_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Header_setPrototypeOf(e,t){return(Header_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var te=function(e){function PlatformHeader(){return function Header_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,PlatformHeader),Header_possibleConstructorReturn(this,Header_getPrototypeOf(PlatformHeader).apply(this,arguments))}return function Header_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Header_setPrototypeOf(e,t)}(PlatformHeader,f["Component"]),function Header_createClass(e,t,n){return t&&Header_defineProperties(e.prototype,t),n&&Header_defineProperties(e,n),e}(PlatformHeader,[{key:"render",value:function render(){var e=[],t=[];if(t.push(h.a.createElement(s.a,{key:"focus-timer-tool"},h.a.createElement(Y,null))),this.props.authoringMode){var n=a()("new-cc-icon","icon-edit",ee.a.authorModeTag);e.push(h.a.createElement("span",{className:n,key:"authoring"},"Authoring"))}u.a.hasGodMode()&&e.push(h.a.createElement(c.a,{key:"god-mode"},h.a.createElement(p.a,{setProgressToCurrentExercise:this.props.setProgressToCurrentExercise,prerender:this.props.prerender,currentWorkspace:this.props.workspace,nolock:this.props.nolock,authoringMode:this.props.authoringMode})));var o=h.a.createElement(b,null),i=a()(ee.a.header,this.props.className);return h.a.createElement(l.a,Header_extends({},this.props,{compact:!0,className:i,theme:"dark",wide:!0,titleRoute:r()(this.props,"exitPaths.back"),tabsRight:e,tabsLeft:t,statusDisplay:o,flags:{openUpgradeLinkInNewTab:!0},hideRegisterButton:!0,hideLoginButton:!0}))}}]),PlatformHeader}();t.a=Object(v.connect)(function mapStateToProps(e){return{title:Object(_.g)(e)}})(te)},"2oVU":function(e,t,n){e.exports={finishedState:"finishedState__2UVa4YK3r2DZTyI_67ch_6",image:"image__3KqestgyCCSlCyXM5XAshM"}},"3qta":function(e,t,n){e.exports={workspaceNaming:"workspaceNaming__1afMhUV-Zkct8qMoGuDd-A",saveWorkspaceButton:"saveWorkspaceButton__sR8mwstpXL_Rw3eJpZFsi",customWorkspaceName:"customWorkspaceName__167Dyy0HlA-ogI2jarij0J"}},"4Bcj":function(e,t,n){e.exports={progressElipse:"progressElipse__2BxwK9AnOO7CVkOvrQtYuC",dot:"dot__yS7_YWKcgynBiftiSv9ec",dotActive:"dotActive__3o7HlfeAE6rwc1Jv6EVYon"}},"5afJ":function(e,t,n){e.exports={timeRemainingSection:"timeRemainingSection__PphJdrAln3WQcerzxLi6P",strong:"strong__3-SLkUA95YKNfhgwcJmzqW",buttonWithMargin:"buttonWithMargin__3raBEwfPH6IlwiFueJ0Yx",timeCircle:"timeCircle__1xXhj6N0kaufxvykhkz6H3",time:"time__3r1y1kpJ8Z5XB5P2BpdUvI",timeRemaining:"timeRemaining__167tYlItbAzLdJcKUYTK0F",rotate:"rotate__1Ndtywd8K-ssUSJrZN83Xq"}},"6yKz":function(e,t,n){e.exports={copyContentControl:"copyContentControl__1O6341g3sRCnRzg0RzUcGT",copyMessage:"copyMessage__2pQWQgwBHErvpTsZkiTzpz",error:"error__2Vp9gpr0ou0Oabaq4RUS6n"}},CWVX:function(e,t,n){e.exports={authorModeTag:"authorModeTag__1SlzRi0YI5AnR1ar2Fiba-"}},E41U:function(e,t,n){e.exports={container:"container__usWHItN4GY3utD-Qqxitn",headerMsg:"headerMsg__iI61DAKtQ3OAvBE4NnPL9",mainMsg:"mainMsg__2rk7wWjya8MIutrFpXoHs",maintButton:"maintButton__37m3w5Qoqo2zmQhR7Hn124",iconContainer:"iconContainer__2e_WMqoAVg8Lb39Ppm6d8M",icon:"icon__1oTDB3w_fXLAvnZDLOKr82"}},FMJz:function(e,t,n){e.exports={circle:"circle__1bwIKZv-h_nZ1RbuXcy5fV",rotate:"rotate__D7hD-Jwli6o6XrinJ-DxF",circleWatermark:"circleWatermark__26Z3JhQvRw3jVczRDCO-nF"}},"Fd/6":function(e,t,n){"use strict";var o=n("zdiy"),r=n.n(o),i=n("EVdn"),a=n.n(i),s=n("dLBa").a.extend({initialize:function initialize(){},createComponentBroadcastFunction:function createComponentBroadcastFunction(e){return function(){var t=arguments[0],n=["component",e,t].join(":"),o=Array.prototype.slice.call(arguments,1),r=[n].concat(o);this.trigger.apply(this,r)}.bind(this)},_handle:function _handle(e){var t=this;this._handlers[e].forEach(function(e){e.call(t)})},registerComponent:function registerComponent(e,t){this._components[e]=t},destroy:function destroy(){for(var e in this._handle("destroy"),this._events)this.off(e)},inheritCache:function inheritCache(e){this._cache=e._cache},extendCache:function extendCache(){this._handle("extendCache")}}),l=function(e){return function(){var t=a.a.extend(!0,{mixins:[]},e),n={},o=t.mixins,i=[t.events],l={destroy:[],extendCache:[]};function keepHandler(e,t){void 0!==e[t]&&(l[t].push(e[t]),delete e[t])}delete t.events,keepHandler(t,"destroy"),keepHandler(t,"extendCache"),n=r()(n,t),void 0!==o&&o.forEach(function(e){keepHandler(e,"destroy"),keepHandler(e,"extendCache"),i.push(r()({},e.events)),delete e.events,n=r()(n,e)});var c=new(s.extend(n));return c._handlers=l,c._components={},c._state={},c._cache={},i.forEach(function(e){for(var t in e)c.on(t,e[t].bind(c))}),c}},c=n("ydTQ"),u={events:{"component:Terminal:input":function componentTerminalInput(e,t){c.a.interface.execute(e).then(function(n){t(e,n.Content,n.Error?1:0)}).catch(function(){t(e,"",1)})}}},p=(n("OHNc"),n("NZ0w")),f={PersistentCodeEditor:[{events:{"component:PersistentCodeEditor:error":function componentPersistentCodeEditorError(e){this.controller.setState({errors:e})}}}],OutputTerminal:[{}],Terminal:[u],WebBrowser:[],Brief:[{events:{"interface:persist":function interfacePersist(){p.a.persist()},"component:Brief:start":function componentBriefStart(){this._components.WebBrowser&&this._components.WebBrowser.onHome(),this.controller.revealComponents()}}}]};t.a={forComponents:function forComponents(e){return l({mixins:this._getBaseMixins(e)})()},forProjectsWithComponents:function forProjectsWithComponents(e){return l({mixins:this._getBaseMixins(e)})()},_getComponentMixins:function _getComponentMixins(e,t){var n=Object.keys(e),o=[];return n.forEach(function(e){e in t&&(o=o.concat(t[e]))}),o},_getBaseMixins:function _getBaseMixins(e){return this._getComponentMixins(e,f)}}},GDib:function(e,t,n){"use strict";var o=n("gLAU"),r=n.n(o),i=n("zdiy"),a=n.n(i),s=n("mwIZ"),l=n.n(s),c=n("/MKj"),u=n("q1tI"),p=n.n(u),f=n("TSYQ"),h=n.n(f),d=n("NkHZ");function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function _possibleConstructorReturn(e,t){return!t||"object"!==_typeof(t)&&"function"!=typeof t?function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var m=function(e){function Slot(){var e,t;!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Slot);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(t=_possibleConstructorReturn(this,(e=_getPrototypeOf(Slot)).call.apply(e,[this].concat(o)))).componentRef=p.a.createRef(),t}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}(Slot,u["PureComponent"]),function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}(Slot,[{key:"componentDidMount",value:function componentDidMount(){this.register()}},{key:"componentDidUpdate",value:function componentDidUpdate(){this.register()}},{key:"register",value:function register(){this.props.adapter.registerComponent&&this.props.adapter.registerComponent(this.props.component.name,this.componentRef.current)}},{key:"render",value:function render(){var e=this,t=this.props,n=t.slot,o=t.deferred,r=void 0===o||o,i=n.geometry,a=this.props.modifiers.disabled||this.props.modifiers.collapsed,s={position:"absolute",top:"".concat(100*i.top(),"%"),right:"".concat(100-100*i.right(),"%"),bottom:"".concat(100-100*i.bottom(),"%"),left:"".concat(100*i.left(),"%")},l=h()({"fcn-component":!0,enabled:!a,disabled:a,collapsed:this.props.modifiers.collapsed}),c=h()({"fcn-slot":!0,"fcn-slot--no-top-neighbor":i.soloEdges().top,"fcn-slot--no-right-neighbor":i.soloEdges().right,"fcn-slot--no-bottom-neighbor":i.soloEdges().bottom,"fcn-slot--no-left-neighbor":i.soloEdges().left,collapsed:this.props.modifiers.collapsed,"fcn-slot--collapsed-x":i.withinCollapseThreshold("x"),"fcn-slot--collapsed-y":i.withinCollapseThreshold("y")}),u=p.a.createElement("div",{id:"discovery-resize-".concat(this.props.locations),className:c,style:s,"data-fcn-arrangement":this.props.slot.arrangement.slots},p.a.createElement("div",{className:l},p.a.createElement("div",{className:"overlay"}),p.a.createElement(this.props.component.constructor,{presenter:this.props.component.presenter,user:this.props.user,broadcast:this.props.adapter.createComponentBroadcastFunction(this.props.component.name),modifiers:this.props.modifiers,helpers:this.props.helpers,geometry:this.props.slot.geometry,ref:this.componentRef})),i.withinCollapseThreshold("x")||i.withinCollapseThreshold("y")?p.a.createElement("div",{className:h()({"fcn-slot-snapped-button":!0,["fcn-slot-snapped-button--".concat(this.props.component.name)]:!0}),onClick:function onClick(){e.props.expandSlot(e.props.slot.geometry.id)}},p.a.createElement("div",{className:h()({"fcn-slot-snapped-button__icon":!0,"fcn-icon":!0,["fcn-icon-".concat(this.props.component.icon||"learn")]:!0})})):void 0);return r?p.a.createElement(d.a,null,u):u}}]),Slot}();m.defaultProps={deferred:!0};var y=m;function fullscreen_controls_typeof(e){return(fullscreen_controls_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function fullscreen_controls_defineProperties(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function fullscreen_controls_possibleConstructorReturn(e,t){return!t||"object"!==fullscreen_controls_typeof(t)&&"function"!=typeof t?function fullscreen_controls_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function fullscreen_controls_getPrototypeOf(e){return(fullscreen_controls_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function fullscreen_controls_setPrototypeOf(e,t){return(fullscreen_controls_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var g=function(e){function FullScreenControls(){return function fullscreen_controls_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,FullScreenControls),fullscreen_controls_possibleConstructorReturn(this,fullscreen_controls_getPrototypeOf(FullScreenControls).apply(this,arguments))}return function fullscreen_controls_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&fullscreen_controls_setPrototypeOf(e,t)}(FullScreenControls,p.a.Component),function fullscreen_controls_createClass(e,t,n){return t&&fullscreen_controls_defineProperties(e.prototype,t),n&&fullscreen_controls_defineProperties(e,n),e}(FullScreenControls,[{key:"render",value:function render(){var e=this.props.isFullscreen?"minimize":"fullscreen";return p.a.createElement("div",{"data-cue":"discovery-fullscreen",className:"fcn-control fcn-control--right",onClick:this.props.toggleFullscreen},p.a.createElement("span",{className:"fcn-icon fcn-icon-".concat(e)}))}}]),FullScreenControls}(),b=n("G9Nm"),_=n("fhzG"),v=n.n(_),C=n("hhPA"),w=n.n(C),O=n("BzM2"),S=n("swBZ"),k=n("Wdql"),P=n("b+vN"),E=n("ydTQ"),T=n("t2YD"),x=w.a.createStore({name:"OrphanedFilesStore",mixins:[O.StateMixin.store],init:function init(){this.workspaceSlug=null,E.a.listen(this.checkWatchedFiles,this),this.listenTo(T.a.publishFilenames,this.setDefaultFiles),this.listenTo(T.a.loadFiles,this.resetOrphanedFiles)},getInitialState:function getInitialState(){return{orphaned:[],watching:[],notify:[]}},setDefaultFiles:function setDefaultFiles(e){this.setState({watching:e})},resetOrphanedFiles:function resetOrphanedFiles(){this.watching=[],this.setState({orphaned:[],watching:[]})},checkWatchedFiles:function checkWatchedFiles(e){if(e.workspaceObject&&e.workspaceReady){var t=[],n=!0,o=!1,r=void 0;try{for(var i,a=this.state.watching[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var s=i.value;void 0===e.workspaceObject.getFile(s)&&t.push(s)}}catch(e){o=!0,r=e}finally{try{n||null==a.return||a.return()}finally{if(o)throw r}}this.setState({orphaned:t})}}}),R=n("NZ0w"),N=v()({displayName:"MissingFilesWall",mixins:[O.StateMixin.connect(x,["orphaned"],{onChange:"checkOrphans"})],getInitialState:function getInitialState(){return{phase:"inactive",notify:!0}},checkOrphans:function checkOrphans(){this.state.orphaned.length||this.setState({phase:"inactive"})},showConfirmation:function showConfirmation(){this.setState({phase:"confirmation"})},cancelAndClose:function cancelAndClose(){this.setState({notify:!1,phase:"inactive"})},resetFiles:function resetFiles(){this.setState({notify:!0,phase:"fixing"}),R.a.restore()},resetFilesContent:function resetFilesContent(){var e=this.state.orphaned[0],t=this.state.notify&&this.state.orphaned.length>0&&"confirmation"!==this.state.phase;return p.a.createElement(P.a,{isOpen:t,cancel:this.cancelAndClose,action:this.showConfirmation,actionText:"Reset Files",cancelText:"Ok"},p.a.createElement("div",null,p.a.createElement("h5",null,"Whoa there!"),p.a.createElement("p",null,"".concat(e," has been moved. This will cause problems with this exercise, please move ").concat(e," back to its original location, or reset your files"))))},resetFilesConfirmationContent:function resetFilesConfirmationContent(){var e=this.state.notify&&this.state.orphaned.length>0&&"confirmation"===this.state.phase;return p.a.createElement(P.a,{isOpen:e,cancel:this.cancelAndClose,action:this.resetFiles},p.a.createElement("div",null,p.a.createElement("h5",null,"Reset your files?"),p.a.createElement("p",null,"This will overwrite your existing files, and reset your progress to the beginning of this exercise")))},render:function render(){return p.a.createElement("div",null,"inactive"===this.state.phase?this.resetFilesContent():this.resetFilesConfirmationContent())}}),j=n("uBVh"),M=n("D5Q1"),F=n("yole"),W=n("4Te6");function FileNavigatorLegacyReflux_typeof(e){return(FileNavigatorLegacyReflux_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function FileNavigatorLegacyReflux_defineProperties(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function FileNavigatorLegacyReflux_possibleConstructorReturn(e,t){return!t||"object"!==FileNavigatorLegacyReflux_typeof(t)&&"function"!=typeof t?function FileNavigatorLegacyReflux_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function FileNavigatorLegacyReflux_getPrototypeOf(e){return(FileNavigatorLegacyReflux_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function FileNavigatorLegacyReflux_setPrototypeOf(e,t){return(FileNavigatorLegacyReflux_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},o=Object.keys(Object(n));"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),o.forEach(function(t){_defineProperty(e,t,n[t])})}return e}function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var B=function createDirectories(e,t){return R.a.createDirectories(e,_objectSpread({overwriteExisting:!1},t))},D=function updateFiles(e,t){return R.a.updateFiles(e,_objectSpread({overwriteExisting:!1},t))},I=function deleteFile(e){return R.a.deleteFile(e).then(R.a.updateFileTree)},L=function openFile(e){var t=j.a(j.b(e));R.a.getFile(e,t).then(function(){F.a.openFile(W.a.emptyWithPath(e))})},A=function renameFile(e,t){return R.a.rename(e,t,{overwriteExisting:!1})},H=function(e){function FileNavigatorLegacyReflux(){return function FileNavigatorLegacyReflux_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,FileNavigatorLegacyReflux),FileNavigatorLegacyReflux_possibleConstructorReturn(this,FileNavigatorLegacyReflux_getPrototypeOf(FileNavigatorLegacyReflux).apply(this,arguments))}return function FileNavigatorLegacyReflux_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&FileNavigatorLegacyReflux_setPrototypeOf(e,t)}(FileNavigatorLegacyReflux,u["Component"]),function FileNavigatorLegacyReflux_createClass(e,t,n){return t&&FileNavigatorLegacyReflux_defineProperties(e.prototype,t),n&&FileNavigatorLegacyReflux_defineProperties(e,n),e}(FileNavigatorLegacyReflux,[{key:"componentDidMount",value:function componentDidMount(){R.a.getFileTree()}},{key:"render",value:function render(){var e=this.props,t=e.open,n=e.workspaceDirectory,o=e.toggleLayout;return p.a.createElement(M.a,{open:t,directory:n,createDirectories:B,updateFiles:D,deleteFile:I,openFile:L,renameFile:A,toggleLayout:o})}}]),FileNavigatorLegacyReflux}(),z=Object(O.connect)(E.a,["workspaceDirectory"])(H),U=n("o0o1"),Q=n.n(U),q=n("S6/l"),G=n("ABYF"),K=n("oHca"),V=n("kqkn"),J=n("ZMKu"),Z=n("qqJs"),X=n("Z9qr"),Y=n.n(X),$=function CodeFooterButton(e){var t=e.children,n=e.id,o=e.onClick,r=e.tooltipText;return p.a.createElement(J.b.div,{animate:{opacity:1,marginTop:0},initial:{opacity:0,marginTop:"30px"},transition:{duration:.5}},p.a.createElement(K.b,{id:n,target:p.a.createElement("div",{className:Y.a.codeFooterButton},p.a.createElement(Z.a,{theme:"editor",isControl:!0,clickHandler:o},t)),theme:V.a.DarkMode,tipClassName:Y.a.tooltip},r))},ee=n("6yKz"),te=n.n(ee);function CopyContentControl_typeof(e){return(CopyContentControl_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function asyncGeneratorStep(e,t,n,o,r,i,a){try{var s=e[i](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(o,r)}function _asyncToGenerator(e){return function(){var t=this,n=arguments;return new Promise(function(o,r){var i=e.apply(t,n);function _next(e){asyncGeneratorStep(i,o,r,_next,_throw,"next",e)}function _throw(e){asyncGeneratorStep(i,o,r,_next,_throw,"throw",e)}_next(void 0)})}}function CopyContentControl_defineProperties(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function CopyContentControl_possibleConstructorReturn(e,t){return!t||"object"!==CopyContentControl_typeof(t)&&"function"!=typeof t?function CopyContentControl_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function CopyContentControl_getPrototypeOf(e){return(CopyContentControl_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function CopyContentControl_setPrototypeOf(e,t){return(CopyContentControl_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var ne=function(e){function CopyContentControl(){var e,t;!function CopyContentControl_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,CopyContentControl);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(t=CopyContentControl_possibleConstructorReturn(this,(e=CopyContentControl_getPrototypeOf(CopyContentControl)).call.apply(e,[this].concat(o)))).state={message:"",error:!1},t.copyFile=_asyncToGenerator(Q.a.mark(function _callee(){var e,n,o,r;return Q.a.wrap(function _callee$(i){for(;;)switch(i.prev=i.next){case 0:return e=t.props,n=e.content,o=e.successMessage,r=e.failMessage,(0,e.trackClick)({data:{target:"copy_file"}}),i.prev=2,i.next=5,G.writeText(n);case 5:t.setState({message:o,error:!1}),i.next=11;break;case 8:i.prev=8,i.t0=i.catch(2),t.setState({message:r,error:!0});case 11:case"end":return i.stop()}},_callee,this,[[2,8]])})),t}return function CopyContentControl_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&CopyContentControl_setPrototypeOf(e,t)}(CopyContentControl,u["Component"]),function CopyContentControl_createClass(e,t,n){return t&&CopyContentControl_defineProperties(e.prototype,t),n&&CopyContentControl_defineProperties(e,n),e}(CopyContentControl,[{key:"componentDidUpdate",value:function componentDidUpdate(e){var t=this.props.content;e.content!==t&&this.setState({message:"",error:!1})}},{key:"render",value:function render(){var e=this.state,t=e.message,n=e.error;return p.a.createElement($,{id:"copy",onClick:this.copyFile,tooltipText:"Copy to Clipboard"},p.a.createElement(q.a,{"data-testid":"copy-content-control",height:20,width:20}),p.a.createElement("span",{className:h()(te.a.copyMessage,n&&te.a.error),"data-testid":"copy-content-control-message".concat(n?"-error":"")},t))}}]),CopyContentControl}();ne.defaultProps={content:"",successMessage:"File copied!",failMessage:"There was a problem."};var oe=n("FmSy"),re=n("ev85"),ie=n("6TJd"),ae=n("MLxE"),se=n("PIZE"),le=n("kuGx"),ce=n("AUig"),ue=n("Kw9r"),pe=(n("u2tZ"),n("QqFe")),fe=n("Hutj"),he=n("xkGU"),de=n.n(he),me=n("NuJE"),ye=n("XtuB"),ge=n("eikI"),be=n("4Bcj"),_e=n.n(be);function dot_typeof(e){return(dot_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function dot_defineProperties(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function dot_possibleConstructorReturn(e,t){return!t||"object"!==dot_typeof(t)&&"function"!=typeof t?function dot_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function dot_getPrototypeOf(e){return(dot_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function dot_setPrototypeOf(e,t){return(dot_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var ve,Ce=function(e){function ProgressDot(){return function dot_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ProgressDot),dot_possibleConstructorReturn(this,dot_getPrototypeOf(ProgressDot).apply(this,arguments))}return function dot_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&dot_setPrototypeOf(e,t)}(ProgressDot,p.a.Component),function dot_createClass(e,t,n){return t&&dot_defineProperties(e.prototype,t),n&&dot_defineProperties(e,n),e}(ProgressDot,[{key:"render",value:function render(){var e=h()({[_e.a.dot]:!0,[_e.a.dotActive]:this.props.active});return p.a.createElement("div",{className:e})}}]),ProgressDot}();function ProgressElipse_typeof(e){return(ProgressElipse_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ProgressElipse_defineProperties(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function ProgressElipse_possibleConstructorReturn(e,t){return!t||"object"!==ProgressElipse_typeof(t)&&"function"!=typeof t?function ProgressElipse_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ProgressElipse_getPrototypeOf(e){return(ProgressElipse_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ProgressElipse_setPrototypeOf(e,t){return(ProgressElipse_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var we=function(e){function ProgressElipse(){var e,t;!function ProgressElipse_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ProgressElipse);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(t=ProgressElipse_possibleConstructorReturn(this,(e=ProgressElipse_getPrototypeOf(ProgressElipse)).call.apply(e,[this].concat(o)))).state={activeDot:0},t.changeDot=function(){var e=t.state.activeDot;2===e?t.setState({activeDot:0}):(e+=1,t.setState({activeDot:e}))},t}return function ProgressElipse_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ProgressElipse_setPrototypeOf(e,t)}(ProgressElipse,p.a.Component),function ProgressElipse_createClass(e,t,n){return t&&ProgressElipse_defineProperties(e.prototype,t),n&&ProgressElipse_defineProperties(e,n),e}(ProgressElipse,[{key:"componentDidMount",value:function componentDidMount(){ve=setInterval(this.changeDot,300)}},{key:"componentWillUnmount",value:function componentWillUnmount(){clearInterval(ve)}},{key:"render",value:function render(){return p.a.createElement("div",{className:_e.a.progressElipse},p.a.createElement(Ce,{active:0===this.state.activeDot}),p.a.createElement(Ce,{active:1===this.state.activeDot}),p.a.createElement(Ce,{active:2===this.state.activeDot}))}}]),ProgressElipse}(),Oe=n("+ocM"),Se=n.n(Oe),ke=n("Y+p1"),Pe=n.n(ke),Ee=n("24Ii"),Te=n.n(Ee),xe=n("hFGM"),Re=null,Ne=null;var je=function createGist(e){return new Promise(function(t,n){Pe()(Re,e)&&Ne?t(Ne):(Re=e,Te.a.post("/gist").use(xe.b).send(e).end(function(o,r){if(o)Ne=null,n(o);else{Re=e;var i=JSON.parse(r.text).url;Ne=i,t(i)}}))})};function CollaborationWallContent_typeof(e){return(CollaborationWallContent_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function CollaborationWallContent_asyncGeneratorStep(e,t,n,o,r,i,a){try{var s=e[i](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(o,r)}function CollaborationWallContent_asyncToGenerator(e){return function(){var t=this,n=arguments;return new Promise(function(o,r){var i=e.apply(t,n);function _next(e){CollaborationWallContent_asyncGeneratorStep(i,o,r,_next,_throw,"next",e)}function _throw(e){CollaborationWallContent_asyncGeneratorStep(i,o,r,_next,_throw,"throw",e)}_next(void 0)})}}function CollaborationWallContent_defineProperties(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function CollaborationWallContent_possibleConstructorReturn(e,t){return!t||"object"!==CollaborationWallContent_typeof(t)&&"function"!=typeof t?function CollaborationWallContent_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function CollaborationWallContent_getPrototypeOf(e){return(CollaborationWallContent_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function CollaborationWallContent_setPrototypeOf(e,t){return(CollaborationWallContent_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var Me=function createCollaborationUrl(){var e="".concat(window.location.origin+window.location.pathname,"?user_id=").concat(ge.a.id()),t="?user_id=".concat(ge.a.id());return window.history.pushState({userId:ge.a.id()},window.location.pathname,t),e},Fe=function(e){function CollaborationWall(){var e,t;!function CollaborationWallContent_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,CollaborationWall);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(t=CollaborationWallContent_possibleConstructorReturn(this,(e=CollaborationWallContent_getPrototypeOf(CollaborationWall)).call.apply(e,[this].concat(o)))).state={responseMsg:null,url:""},t.onCopyClicked=CollaborationWallContent_asyncToGenerator(Q.a.mark(function _callee(){var e;return Q.a.wrap(function _callee$(n){for(;;)switch(n.prev=n.next){case 0:return e=t.state.url,n.prev=1,n.next=4,G.writeText(e);case 4:t.setState({responseMsg:"Link copied!",error:!1}),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(1),t.setState({responseMsg:"uh oh! there was a problem copying the url!",error:!0});case 10:case"end":return n.stop()}},_callee,this,[[1,7]])})),t}return function CollaborationWallContent_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&CollaborationWallContent_setPrototypeOf(e,t)}(CollaborationWall,u["Component"]),function CollaborationWallContent_createClass(e,t,n){return t&&CollaborationWallContent_defineProperties(e.prototype,t),n&&CollaborationWallContent_defineProperties(e,n),e}(CollaborationWall,[{key:"createGistUrl",value:function createGistUrl(){var e=this,t={};de()(this.props.files,function(e){t[e.name]={content:e.content}}),je({description:"Codecademy export",public:!1,files:t}).then(function(t){e.setState({url:t})})}},{key:"componentDidMount",value:function componentDidMount(){this.state.url||(this.props.gist?this.createGistUrl():this.setState({url:Me()}))}},{key:"render",value:function render(){var e=h()({[Se.a.errorMsg]:this.state.error});return p.a.createElement(me.a,{column:!0},p.a.createElement("h5",null,"Copy the path below to share your code"),p.a.createElement(me.a,null,p.a.createElement("div",{className:Se.a.copyField},p.a.createElement(ye.a,{className:Se.a.copyInputField,id:"collInput",value:this.state.url}),this.state.url?null:p.a.createElement(me.a,{flex:!0,center:!0,className:Se.a.loadingContainer},p.a.createElement(we,null))),p.a.createElement(pe.a,{disabled:!this.state.url,onClick:this.onCopyClicked},"Copy")),p.a.createElement(me.a,{center:!0,flex:!0,className:Se.a.responseMsgContainer},p.a.createElement("span",{className:e},this.state.responseMsg)))}}]),CollaborationWall}(),We=n("peh1"),Be=n("2oex"),De=n("raiL"),Ie=n("rYBX"),Le=n.n(Ie),Ae=n("CWAm"),He=n("BeGh"),ze=n("bbAx"),Ue=n.n(ze);function _extends(){return(_extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}function _objectWithoutProperties(e,t){if(null==e)return{};var n,o,r=function _objectWithoutPropertiesLoose(e,t){if(null==e)return{};var n,o,r={},i=Object.keys(e);for(o=0;o<i.length;o++)n=i[o],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)n=i[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var Qe=function HelpButton(e){var t=e.children,n=_objectWithoutProperties(e,["children"]);return p.a.createElement(pe.a,_extends({},n,{flat:!0,theme:"white",target:"_blank",className:Ue.a.button}),t)},qe={userClick:Ae.g,userImpression:Ae.h},Ge=Object(c.connect)(function mapStateToProps(e){return{reviewLink:Object(Be.r)(e)}},qe)(function ReviewButton(e){var t=e.reviewLink,n=e.userClick,o=e.userImpression;Object(u.useEffect)(function(){o({data:{target:"view_cheatsheet"}})},[o]);return p.a.createElement(Qe,{target:"_blank",href:t,onClick:function onClick(){n({data:{target:"view_cheatsheet",context:"code_editor"}})}},p.a.createElement(He.a,{size:24,title:"Concept Review",style:{marginRight:"0.3rem"}}),S.components.code_editor.review_button)}),Ke=n("Rab/"),Ve=n("tDFQ"),Je=n("NhxS"),Ze=n("lkI2"),Xe=n("0u4h");function SolutionButton_typeof(e){return(SolutionButton_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function SolutionButton_defineProperties(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function SolutionButton_possibleConstructorReturn(e,t){return!t||"object"!==SolutionButton_typeof(t)&&"function"!=typeof t?function SolutionButton_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function SolutionButton_getPrototypeOf(e){return(SolutionButton_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function SolutionButton_setPrototypeOf(e,t){return(SolutionButton_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var Ye=function(e){function SolutionButton(){var e,t;!function SolutionButton_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,SolutionButton);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(t=SolutionButton_possibleConstructorReturn(this,(e=SolutionButton_getPrototypeOf(SolutionButton)).call.apply(e,[this].concat(o)))).state={isModalOpen:!1},t.trackClick=function(e){(0,t.props.userClick)({data:{target:e}})},t.onButtonClick=function(){t.trackClick("savepointsSolutionButton"),t.setState({isModalOpen:!0})},t.closeModal=function(){t.setState({isModalOpen:!1})},t.keepTrying=function(){t.trackClick("savepointsKeepTrying"),t.closeModal()},t.getAnswer=function(){t.trackClick("savepointsGetCode"),t.closeModal(),Object(Ze.a)("info","Savepoints restoring solution code and force passing checkpoints"),R.a.solution().then(t.props.forcePassClicked)},t}return function SolutionButton_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&SolutionButton_setPrototypeOf(e,t)}(SolutionButton,u["Component"]),function SolutionButton_createClass(e,t,n){return t&&SolutionButton_defineProperties(e.prototype,t),n&&SolutionButton_defineProperties(e,n),e}(SolutionButton,[{key:"componentDidMount",value:function componentDidMount(){(0,this.props.userImpression)({data:{target:"savepointsSolutionButton"}})}},{key:"render",value:function render(){var e=this.state.isModalOpen;return p.a.createElement(p.a.Fragment,null,p.a.createElement(Qe,{onClick:this.onButtonClick},p.a.createElement(Je.a,{size:24,title:"Solution",style:{marginRight:"0.3rem"}}),S.components.code_editor.savepoints_button),p.a.createElement(Xe.a,{isOpen:e,keepTrying:this.keepTrying,getAnswer:this.getAnswer}))}}]),SolutionButton}(),$e={forcePassClicked:Ve.g,userClick:Ae.g,userImpression:Ae.h},et=Object(c.connect)(function mapStateToProps(e){var t=Object(Ke.h)(e);return{course:t.trackSlug,exercise:t.exerciseSlug,lesson:t.contentItemSlug}},$e)(Ye);function HelpContainer_typeof(e){return(HelpContainer_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function HelpContainer_defineProperties(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function HelpContainer_possibleConstructorReturn(e,t){return!t||"object"!==HelpContainer_typeof(t)&&"function"!=typeof t?function HelpContainer_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function HelpContainer_getPrototypeOf(e){return(HelpContainer_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function HelpContainer_setPrototypeOf(e,t){return(HelpContainer_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var tt=function(e){function HelpContainer(){return function HelpContainer_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,HelpContainer),HelpContainer_possibleConstructorReturn(this,HelpContainer_getPrototypeOf(HelpContainer).apply(this,arguments))}return function HelpContainer_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&HelpContainer_setPrototypeOf(e,t)}(HelpContainer,u["Component"]),function HelpContainer_createClass(e,t,n){return t&&HelpContainer_defineProperties(e.prototype,t),n&&HelpContainer_defineProperties(e,n),e}(HelpContainer,[{key:"render",value:function render(){var e=this.props,t=e.failureCount,n=e.showReviewButton&&1===t?p.a.createElement(Ge,null):t>1?p.a.createElement(et,null):null;return p.a.createElement("span",{className:Le.a.container},n)}}]),HelpContainer}(),nt=Object(c.connect)(function mapStateToProps(e){return{showReviewButton:Object(We.createSelector)(Object(De.a)("le_review_link"),function(e){return e})(e)&&Object(Be.p)(e),failureCount:Object(k.e)(e)}})(tt),ot=n("KKCq"),rt=n("z9KF"),it=n("fxH1"),at=n("oXuj"),st=n("JYW0"),lt=n.n(st),ct=function LegacyRunButton(e){var t=e.children,n=e.disabled,o=e.hasTyped,r=e.onClick,i=navigator.platform.match("Mac")?" + return":"ctrl + enter";return p.a.createElement(K.b,{id:"run",target:p.a.createElement(pe.a,{className:lt.a.runButton,square:!0,theme:"royalblue",go:!n&&o,disabled:n,onClick:r,"data-testid":"run-button"},t),theme:V.a.DarkMode,tipClassName:lt.a.tooltip},i)},ut=function ResetWorkspaceButton(e){var t=e.noun,n=e.onClick,o=navigator.platform.match("Mac")?"ctrl":"alt";return p.a.createElement($,{id:"reset",onClick:n,tooltipText:"Reset ".concat(t," (").concat(o," + g)")},p.a.createElement(fe.a,{name:"reset"}))},pt=n("gCrh"),ft=function ShareWorkspaceButton(e){var t=e.onClick;return ge.a.isPro()?p.a.createElement($,{id:"share",onClick:t,tooltipText:"Share Code"},p.a.createElement(pt.a,{size:16})):null},ht=n("GNhk"),dt=n("l8Mm"),mt=n("iRAd"),yt=n("O1db"),gt=n("TUVh"),bt=n("3qta"),_t=n.n(bt);function WorkspaceNameChooser_typeof(e){return(WorkspaceNameChooser_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function WorkspaceNameChooser_defineProperties(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function WorkspaceNameChooser_possibleConstructorReturn(e,t){return!t||"object"!==WorkspaceNameChooser_typeof(t)&&"function"!=typeof t?function WorkspaceNameChooser_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function WorkspaceNameChooser_getPrototypeOf(e){return(WorkspaceNameChooser_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function WorkspaceNameChooser_setPrototypeOf(e,t){return(WorkspaceNameChooser_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var vt="blank-workspace",Ct=function(e){function WorkspaceNameChooser(){var e,t;!function WorkspaceNameChooser_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,WorkspaceNameChooser);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(t=WorkspaceNameChooser_possibleConstructorReturn(this,(e=WorkspaceNameChooser_getPrototypeOf(WorkspaceNameChooser)).call.apply(e,[this].concat(o)))).state={customSlug:t.props.workspaceSlug===vt?"":t.props.workspaceSlug},t.handleChange=function(e){t.setState({customSlug:e.target.value.replace(/\s/g,"-")})},t}return function WorkspaceNameChooser_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&WorkspaceNameChooser_setPrototypeOf(e,t)}(WorkspaceNameChooser,u["Component"]),function WorkspaceNameChooser_createClass(e,t,n){return t&&WorkspaceNameChooser_defineProperties(e.prototype,t),n&&WorkspaceNameChooser_defineProperties(e,n),e}(WorkspaceNameChooser,[{key:"render",value:function render(){var e=this.props,t=e.saveWorkspace,n=e.workspaceSlug,o=e.generatedWorkspaceName;return p.a.createElement(ht.a,null,p.a.createElement(dt.a,{className:_t.a.workspaceNaming,onSubmit:t},n&&n!==vt?p.a.createElement(mt.a,{label:"Current Workspace Name"},p.a.createElement(yt.a,{htmlFor:"currentWorkspaceSlug",label:n,name:"chooseWorkspaceSlug",className:_t.a.slugRadioButtons,value:n})):null,o&&o!==n?p.a.createElement(mt.a,{label:"Generated Workspace Name"},p.a.createElement(yt.a,{htmlFor:"generatedWorkspaceSlug",label:o,name:"chooseWorkspaceSlug",className:_t.a.slugRadioButtons,value:o})):null,p.a.createElement(mt.a,{label:"Custom Name"},p.a.createElement(yt.a,{htmlFor:"customWorkspaceSlug",label:p.a.createElement("div",{className:_t.a.customWorkspaceName},p.a.createElement(gt.a,{onChange:this.handleChange,value:this.state.customSlug})),name:"chooseWorkspaceSlug",className:_t.a.slugRadioButtons,value:this.state.customSlug})),p.a.createElement(pe.a,{theme:"secondary",className:_t.a.saveWorkspaceButton,type:"submit"},"Save Workspace")))}}]),WorkspaceNameChooser}(),wt=n("MI1X"),Ot=n.n(wt),St=n("wIFh"),kt={trackClick:Ae.g},Pt=v()({displayName:"CodeEditor",mixins:[O.StateMixin.connect(le.a,["files","active","hasReceivedCurrentFiles"]),O.StateMixin.connect(it.a),O.StateMixin.connect(E.a),w.a.listenTo(ue.a,"onResize")],getInitialState:function getInitialState(){var e;return this.props.geometry&&(e={width:this.props.geometry.width(),height:this.props.geometry.height()}),{openResetWorkspaceWall:!1,openShareWall:!1,fileToolOpen:!1,hasTyped:!1,collapsed:!0,orphans:[],dimensions:e}},toggleLayout:function toggleLayout(){this.setState(function(e){return{collapsed:!e.collapsed,fileToolOpen:!e.fileToolOpen}})},toggleAuthoringMode:function toggleAuthoringMode(){ce.a.adminChange("toggleWorkspaceNaming",!this.state.toggleWorkspaceNaming)},componentDidMount:function componentDidMount(){window.addEventListener("keydown",this.onKeyDown)},componentWillUnmount:function componentWillUnmount(){window.removeEventListener("keydown",this.onKeyDown)},isEvaluateExerciseEvent:function isEvaluateExerciseEvent(e){return 13===e.keyCode&&(navigator.platform.match("Mac")?e.metaKey:e.ctrlKey)},isResetExerciseEvent:function isResetExerciseEvent(e){return 71===e.keyCode&&(navigator.platform.match("Mac")?e.ctrlKey:e.altKey)},onKeyDown:function onKeyDown(e){if(this.isEvaluateExerciseEvent(e))this.submitClick();else{if(!this.openResetWorkspaceWall||!this.isResetExerciseEvent(e))return!0;this.openResetWorkspaceWall()}return e.preventDefault(),!1},normalizeFileKeys:function normalizeFileKeys(e){return e.map(function(e){return{name:e.filename,type:e.type}})},setOrphans:function setOrphans(e){e.length>this.state.orphans.length&&(this.setState({orphans:e}),this.setState({hasNewOrphan:!0}))},onResize:function onResize(){this.editorRef&&this.editorRef.refresh()},onClick:function onClick(){this.editorRef&&this.editorRef.codeMirror.focus()},processFiles:function processFiles(){var e=this;return new Promise(function(t){e.props.presenter.hasCheckWork?R.a.autoSaveFiles().then(t):t()})},onModelChanged:function onModelChanged(e){var t=this,n=this.state.files[this.state.active];n&&n.content!==e&&(this.setState({persistingFiles:!0}),F.a.updateFile(n,e).then(function(){t.processFiles().then(function(){t.setState({persistingFiles:!1})})}),this.state.hasTyped||this.setState({hasTyped:!0}))},submitClick:function submitClick(){var e=this;this.state.offerAnswer&&this.props.broadcast("keepTrying"),this.setState({offerAnswer:!1,hasTyped:!1}),this.setState({persistingFiles:!0}),this.props.presenter.evaluateExercise().then(function(){e.setState({persistingFiles:!1})}).catch(function(t){t&&600===t.code&&e.props.broadcast("error",{visible:!0,timestamp:(new Date).valueOf(),friendly:t.message,component:"PersistentCodeEditor"}),e.setState({persistingFiles:!1})})},saveWorkspace:function saveWorkspace(e){e.preventDefault();var t,n=e.target.elements,o=n.currentWorkspaceSlug,r=n.generatedWorkspaceSlug,i=n.customWorkspaceSlug;o&&o.checked?t=o.value:i.checked?t=i.value:r.checked&&(t=r.value),""!==t&&R.a.saveFilesAndCheckWork().then(function(){return R.a.getFetchUrl(t)}).then(function(e){return R.a.persist(e,t)}).then(this.toggleAuthoringMode)},onEditorFocus:function onEditorFocus(){this.state.offerAnswer&&(this.props.broadcast("keepTrying"),this.setState({offerAnswer:!1}))},updateTree:function updateTree(){this.props.broadcast("getFileTree")},offerAnswer:function offerAnswer(){this.setState({offerAnswer:!0})},resetWorkspace:function resetWorkspace(){var e=function noop(){};return this.props.trackClick({data:{target:"platformResetWorkspace"}}),"project"===this.props.presenter.contentItemType?R.a.reset().then(this.closeResetWorkspaceWall,e):R.a.restore().then(this.closeResetWorkspaceWall,e)},renderHeader:function renderHeader(){return this.renderTabs()},renderEditorOrPlaceholder:function renderEditorOrPlaceholder(){return Object(se.a)(this.state)?p.a.createElement("div",{className:Ot.a.codeEditorSkeleton},p.a.createElement(rt.a,null)):this.state.files.length>0?this.renderEditor():this.renderPlaceholder()},renderEditor:function renderEditor(){var e=this,t=this.props.modifiers,n={};return(void 0===t?{}:t).disableLinting&&(n.lint=!1),p.a.createElement(ie.a,{ref:function ref(t){return e.editorRef=t},file:this.activeFile(),className:Ot.a.cmeditor,onFocus:this.onEditorFocus,onChange:this.onModelChanged,options:n,persistingFiles:this.state.persistingFiles})},_ignoreOrphan:function _ignoreOrphan(){this.setState({hasNewOrphan:!1})},_keepTrying:function _keepTrying(){this.setState({offerAnswer:!1}),this.props.broadcast("keepTrying")},_showAnswer:function _showAnswer(){this.setState({offerAnswer:!1}),this.props.broadcast("showAnswer")},openCollaborationWall:function openCollaborationWall(){this.setState({openShareWall:!0})},openResetWorkspaceWall:function openResetWorkspaceWall(){this.props.trackClick({data:{target:"platformResetWorkspaceDialog"}}),this.setState({openResetWorkspaceWall:!0})},closeCollaborationWall:function closeCollaborationWall(){this.setState({openShareWall:!1})},closeResetWorkspaceWall:function closeResetWorkspaceWall(){this.setState({openResetWorkspaceWall:!1})},renderFooter:function renderFooter(){var e=this.props.presenter;return p.a.createElement("div",{className:Ot.a.footerContainer},e.displayErrors&&p.a.createElement(oe.a,{className:Ot.a.errorDisplay,onVisibilityToggle:this.onResize}),p.a.createElement(re.a,null,this.renderFooterButtons()))},renderFooterButtons:function renderFooterButtons(){var e=this.props.trackClick,t=this.state.persistingFiles||this.props.checkpointsRunning,n=t||0===this.state.files.length,o=this.props.modifiers.isProject?S.components.code_editor.save:S.components.code_editor.run,r=this.props.modifiers.isProject?S.components.code_editor.project:S.components.code_editor.exercise;return p.a.createElement(p.a.Fragment,null,p.a.createElement("div",{className:Ot.a.editorFooter},!this.props.presenter.hasCheckWork&&p.a.createElement(ct,{disabled:n,hasTyped:this.state.hasTyped,onClick:this.submitClick},t?p.a.createElement(ot.a,null):o),p.a.createElement(ut,{onClick:this.openResetWorkspaceWall,noun:r}),p.a.createElement(ft,{onClick:this.openCollaborationWall}),p.a.createElement(ne,{trackClick:e,content:this.activeFileContent()}),p.a.createElement(nt,null)),this.state.authoringMode?p.a.createElement(p.a.Fragment,null,p.a.createElement(pe.a,{theme:"lantern",onClick:this.toggleAuthoringMode,style:{minWidth:"9rem"}},this.state.toggleWorkspaceNaming?"Back":"Save Workspace"),p.a.createElement(St.a,{isOpen:this.state.authoringMode&&this.state.toggleWorkspaceNaming,onOutsideClick:this.toggleAuthoringMode},p.a.createElement(Ct,{saveWorkspace:this.saveWorkspace,workspaceSlug:E.a.state.workspaceSlug,generatedWorkspaceName:this.props.presenter.generatedWorkspaceName}))):null)},placeholderTab:function placeholderTab(){return p.a.createElement(Z.a,{key:"codeEditorTab-empty",theme:"editor",isActive:!0,canClose:!1,clickHandler:function clickHandler(){},closeHandler:function closeHandler(){}})},tabsData:function tabsData(){var e=this,t=[];return Object(se.a)(this.state)?(t.push(this.placeholderTab()),t):this.state.files&&this.state.files.length>0?(this.state.files.forEach(function(n,o){if(!n.isDir){var r=e.state.active===o,i=n.name.split("/"),a=i[i.length-1],s=n.path;t.push(p.a.createElement(Z.a,{title:a,theme:"editor",key:"codeEditorTab-".concat(s),isActive:r,tabId:o,canClose:!e.props.presenter.navigator_disabled||e.state.authoringMode,clickHandler:F.a.setCurrentOpenFile,closeHandler:F.a.closeFile}))}}),t):t},renderTabs:function renderTabs(){var e=this.tabsData(),t=h()({[Ot.a.tabsOffSet]:this.state.collapsed});return p.a.createElement("div",{className:t},p.a.createElement(re.a,{theme:"editor"},e,p.a.createElement(Z.a,{theme:"editor",key:"codeEditorTab-fullscreen","data-cue":"discovery-fullscreen",clickHandler:this.props.helpers.toggleFullscreen,canClose:!1,isControl:!0,align:"right"},p.a.createElement(fe.a,{name:"fullscreen"}))))},renderPlaceholder:function renderPlaceholder(){return p.a.createElement("div",{className:"fcn-code-editor__placeholder"},p.a.createElement("div",{className:"fcn-code-editor__placeholder__icon",style:{paddingRight:12}},p.a.createElement(fe.a,{name:"file-alt",size:3})),p.a.createElement("div",{style:{marginTop:15}},"Code Editor"),this.state.hasReceivedCurrentFiles&&!this.state.fileToolOpen?p.a.createElement(pe.a,{theme:"lantern",style:{marginTop:20},outline:!0,onClick:this.toggleLayout},"Open file"):null)},activeFile:function activeFile(){if(null!==this.state.active)return this.state.files[this.state.active]},activeFileContent:function activeFileContent(){var e=this.activeFile();return e?e.content:""},reloadFile:function reloadFile(e){if(this.state.files&&this.state.files.map(function(e){return e.path}).indexOf(e)>-1){var t=j.a(j.b(e));F.a.reloadFile(e,t)}},render:function render(){var e=h()({editor:!0,[Ot.a.layoutCollapsed]:this.state.collapsed,[Ot.a.noNavigator]:this.props.presenter.navigator_disabled,[Ot.a.includeFileNavTab]:this.state.authoringMode,[Ot.a.fileTabOpen]:!this.state.collapsed}),t=h()({[Ot.a.mainContainer]:!0});return p.a.createElement("div",{onKeyUp:this.onKeyUp,className:t},p.a.createElement(N,null),p.a.createElement(P.a,{isOpen:this.state.openResetWorkspaceWall,cancel:this.closeResetWorkspaceWall,action:this.resetWorkspace,actionText:"Reset",cancelText:"Cancel",wallOverlayType:"screen"},p.a.createElement("h2",null,S.components.code_editor.reset_workspace_confirmation_title),p.a.createElement("p",null,S.components.code_editor.reset_workspace_confirmation_content)),p.a.createElement(ae.a,{isOpen:this.state.openShareWall,dismiss:this.closeCollaborationWall},p.a.createElement(Fe,{gist:!0,files:this.state.files})),p.a.createElement("div",{className:Ot.a.edFToolLayoutContainer},!this.props.presenter.navigator_disabled||this.state.authoringMode?p.a.createElement(z,{open:this.state.fileToolOpen,toggleLayout:this.toggleLayout}):null,p.a.createElement("div",{className:e},this.renderHeader(),p.a.createElement("div",{onClick:this.onClick,className:h()("editor-container",{[Ot.a.editorContainerPadded]:this.props.monacoEnabled})},this.renderEditorOrPlaceholder()),this.renderFooter())))}}),Et=Object(c.connect)(function mapStateToProps(e){return{checkpointsRunning:Object(k.h)(e),monacoEnabled:Object(at.a)(e)}},kt,null,{forwardRef:!0})(Pt),Tt=n("e2nI"),xt=n("4az4"),Rt=n("VAEl"),Nt=n("babB"),jt=n("nYFV"),Mt=n("RoNi"),Ft=n("qwsu"),Wt=n("NZpv"),Bt=n("F6+0"),Dt=n("dUu8"),It=n("TYUh"),Lt=n.n(It),At=v()({displayName:"TerminalContainer",mixins:[w.a.listenTo(Bt.a.resized,"onResize"),w.a.listenTo(R.a.restore.completed,"resetTerminals"),O.StateMixin.connect(E.a,["workspaceReady","workspaceStatusType"]),O.StateMixin.connect(Ft.a,["sessions","busy","currentSession","hasCreatedSessionBefore","fontSize","hasFocus"])],componentDidMount:function componentDidMount(){var e=this;this.state.workspaceReady?this.createInitialTerminal():this.unsubSetWorkspace=R.a.setWorkspace.completed.listen(function(){return e.setState({workspaceReady:!0})}),Dt.a.saveTerminalReference(this)},componentWillUnmount:function componentWillUnmount(){this.unsubSetWorkspace&&this.unsubSetWorkspace()},createInitialTerminal:function createInitialTerminal(){var e=this;0===this.state.sessions.length&&Wt.a.createSession("bash").then(function(){e.props.onReady&&e.props.onReady()})},componentDidUpdate:function componentDidUpdate(e,t){var n=this;t.currentSession!==this.state.currentSession&&this.state.hasFocus&&this.getActiveTerminal()&&r()(function(){n.getActiveTerminal().focus()}),t.workspaceReady&&!this.state.workspaceReady&&Wt.a.closeAllSessions(),!t.workspaceReady&&this.state.workspaceReady&&this.createInitialTerminal()},getActiveTerminal:function getActiveTerminal(){var e=Ft.a.currentSession();return e?this.refs[e.id]:null},getAllTerminals:function getAllTerminals(){var e=this;return this.state.sessions.map(function(t){return e.refs[t.id]})},onResize:function onResize(){var e=this.getAllTerminals();if(e&&e.length){var t=this.getActiveTerminal();if(t&&!t.state.fake&&t.refRealTerminal){var n=t.refRealTerminal.getRowsCols(),o=!0,r=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(o=(a=s.next()).done);o=!0){a.value.resize(n)}}catch(e){r=!0,i=e}finally{try{o||null==s.return||s.return()}finally{if(r)throw i}}}}},resetTerminals:function resetTerminals(){this.replaceState(Object.assign({},this.getInitialState(),{workspaceReady:this.state.workspaceReady})),this.createInitialTerminal()},renderTerminal:function renderTerminal(e,t){var n=this;return p.a.createElement(jt.a,{key:t.id,ref:t.id,session:t,terminalId:t.id,fakeResponses:this.props.presenter.fake_responses,handleRealResponse:function handleRealResponse(e,t){n.props.broadcast("input",e,t)},onFocus:Wt.a.focus,onBlur:Wt.a.blur,isActive:e===this.state.currentSession,hasCheckWork:this.props.presenter.hasCheckWork,workspaceReady:this.state.workspaceReady,fontSize:this.state.fontSize,hasFocus:this.state.hasFocus,checkpointRun:function checkpointRun(){return Dt.a.run()},setFontSize:function setFontSize(e){Wt.a.setFontSize(e)},closeSession:function closeSession(e){Wt.a.closeSession(e)}})},createNewTerminal:function createNewTerminal(){Wt.a.createSession("bash")},render:function render(){var e=this.props.presenter,t=e.hasCheckWork,n=e.displayErrors,o=[],r=Object(se.a)(this.state);if(r)o=p.a.createElement("div",{className:Lt.a.terminalContainerSkeleton},p.a.createElement(rt.a,null));else if(this.state.sessions&&this.state.sessions.length>0)for(var i=0;i<this.state.sessions.length;i+=1){var a=this.state.sessions[i];o.push(this.renderTerminal(i,a))}else o=p.a.createElement("div",{className:"fcn-terminal-container__placeholder"},p.a.createElement("div",{className:"fcn-terminal-container__placeholder__body"},p.a.createElement("div",{className:"fcn-terminal-container__placeholder__icon fcn-icon fcn-icon-terminal"}),p.a.createElement("span",{className:"fcn-terminal-container__placeholder__text"},"Terminal"),this.state.hasCreatedSessionBefore&&!this.state.busy?p.a.createElement("span",{className:"fcn-terminal-container__placeholder__text"},p.a.createElement(pe.a,{theme:"lantern",style:{marginTop:20},outline:!0,onClick:function onClick(){Wt.a.createSession("bash")}},"New session")):null));var s=p.a.createElement(Mt.a,{isLoading:r,isBusy:this.state.busy,canCreateSession:Ft.a.canCreateSession(),currentSessionIndex:this.state.currentSession,sessions:this.state.sessions.map(function(e){return{id:e.id,title:e.title}}),toggleFullscreen:this.props.helpers.toggleFullscreen,createNewTerminal:this.createNewTerminal,selectTerminalSession:Wt.a.selectSession,closeTerminalSession:Wt.a.closeSession}),l=p.a.createElement("div",{className:"fcn-component-footer"},p.a.createElement(re.a,null,p.a.createElement(pe.a,{square:!0,theme:"lantern",onClick:this.props.presenter.evaluateExercise,block:!0},"project"===this.props.presenter.contentItemType?S.components.terminal.refresh_browser:S.components.terminal.run_checkpoints)));return p.a.createElement("div",{className:"fcn-terminal-container fcn-terminal-container--with-header"},s,o,n&&p.a.createElement(oe.a,{onVisibilityToggle:this.onResize}),t?l:null)}}),Ht=(n("L+Kl"),n("/9uS")),zt=n("071C"),Ut=n("zqxM"),Qt=n.n(Ut),qt=n("i8i4"),Gt=n.n(qt),Kt=n("EVdn"),Vt=n.n(Kt),Jt=n("pJeW"),Zt=n("b7G+"),Xt=n.n(Zt);function OutputTerminal_typeof(e){return(OutputTerminal_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function OutputTerminal_defineProperties(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function OutputTerminal_possibleConstructorReturn(e,t){return!t||"object"!==OutputTerminal_typeof(t)&&"function"!=typeof t?function OutputTerminal_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function OutputTerminal_getPrototypeOf(e){return(OutputTerminal_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function OutputTerminal_setPrototypeOf(e,t){return(OutputTerminal_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var Yt,$t={stdout:"jqconsole-stdout",stderr:"jqconsole-stderr"},en=function(e){function OutputTerminal(){return function OutputTerminal_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,OutputTerminal),OutputTerminal_possibleConstructorReturn(this,OutputTerminal_getPrototypeOf(OutputTerminal).apply(this,arguments))}return function OutputTerminal_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&OutputTerminal_setPrototypeOf(e,t)}(OutputTerminal,p.a.Component),function OutputTerminal_createClass(e,t,n){return t&&OutputTerminal_defineProperties(e.prototype,t),n&&OutputTerminal_defineProperties(e,n),e}(OutputTerminal,[{key:"componentDidMount",value:function componentDidMount(){var e=Gt.a.findDOMNode(this.refs.terminal);this.jqc=Vt()(e).jqconsole("","","",!0)}},{key:"componentDidUpdate",value:function componentDidUpdate(e){var t=this,n=this.props.output;n!==e.output&&n.length&&Qt()(n,e.output).forEach(function(e){t.jqc.Write(e.text,$t[e.type])}),0===n.length&&this.jqc.Reset(),!e.awaitingInput&&this.props.awaitingInput&&this.jqc.Prompt(!0,function(e){t.props.handleInput(e)})}},{key:"componentWillUnmount",value:function componentWillUnmount(){this.jqc.$input_source.off()}},{key:"renderTerminal",value:function renderTerminal(){var e=h()({"fcn-terminal":!0,"fcn-terminal--active":!0,jqconsole:!0,"jqconsole-cursor--blink":this.props.awaitingInput});return p.a.createElement("div",{style:{height:"100%"}},p.a.createElement("div",{className:"fcn-terminal-container"},p.a.createElement("div",{ref:"terminal",className:e})))}},{key:"renderPlaceholder",value:function renderPlaceholder(){return p.a.createElement("div",{style:{height:"100%"}},p.a.createElement("div",{className:"fcn-terminal-container"},p.a.createElement("div",{ref:"terminal"}),p.a.createElement("div",{className:Xt.a.outputTerminalContainerSkeleton},p.a.createElement("div",{className:Xt.a.outputTerminalContainerSkeletonBody},p.a.createElement(Jt.a,null)))))}},{key:"render",value:function render(){var e=this.props,t=e.workspaceReady,n=e.workspaceStatusType;return Object(se.a)({workspaceReady:t,workspaceStatusType:n})?this.renderPlaceholder():this.renderTerminal()}}]),OutputTerminal}(),tn=v()({displayName:"OutputTerminalRefluxContainer",mixins:[O.StateMixin.connect(Ht.a,["output","awaitingInput"]),O.StateMixin.connect(E.a,["workspaceStatusType","workspaceReady"])],handleInput:function handleInput(e){zt.a.input(e)},render:function render(){return p.a.createElement(en,{awaitingInput:this.state.awaitingInput,handleInput:this.handleInput,output:this.state.output,workspaceReady:this.state.workspaceReady,workspaceStatusType:this.state.workspaceStatusType})}}),nn=n("44Ds"),on=n.n(nn),rn=n("bQRv"),an=n("bizM"),sn=n("2h7Y"),ln=on()(function(e,t){return e},function(e,t){return t}),cn=v()({displayName:"WebBrowser",urlBarRef:Object(u.createRef)(),browserRef:Object(u.createRef)(),mixins:[O.StateMixin.connect(rn.a),O.StateMixin.connect(E.a,["workspaceReady","workspaceStatusType"])],getInitialState:function getInitialState(){return{urlBarValue:""}},getBrowser:function getBrowser(){return this.browserRef},onUrlBarKeyDown:function onUrlBarKeyDown(e){13===e.keyCode&&an.a.load(this.state.urlBarValue)},onUrlBarChange:function onUrlBarChange(e){this.setState({urlBarValue:e.target.value})},componentDidUpdate:function componentDidUpdate(e,t){!t.workspaceReady&&this.state.workspaceReady&&this.onHome()},isBlank:function isBlank(){var e=this.state.location;return!(void 0===e?{}:e).internalUrl||!E.a.state.workspaceObject},onHome:function onHome(){void 0!==this.props.presenter.display_url&&an.a.load(this.props.presenter.display_url)},bindBrowserListener:function bindBrowserListener(e){return an.a.sendMessage.listen(e)},onBrowserMessage:function onBrowserMessage(e){var t=e.data;t&&(t.location&&an.a.push(t.location),an.a.receiveMessage(t))},onBrowserLoad:function onBrowserLoad(e){rn.a.state.onLoadCallback(),this.setState(function(e){return{urlBarValue:e.location.displayUrl}})},onBrowserError:function onBrowserError(e){},onBack:function onBack(){this.state.historyIndex>0&&an.a.navigateBack()},onRefresh:function onRefresh(){an.a.refresh()},getSrc:function getSrc(){var e=this.state,t=e.location,n=e.nonce,o=t.internalUrl&&t.internalUrl.toString()||"";return ln(o,n)},render:function render(){var e=this.state,t=e.nonce,n=e.urlBarValue,o=this.props,r=o.presenter,i=o.helpers;return p.a.createElement(sn.a,{src:this.getSrc(),displayUrl:n,urlBarRef:this.urlBarRef,browserRef:this.browserRef,bindBrowserListener:this.bindBrowserListener,onBack:this.onBack,onRefresh:this.onRefresh,onHome:this.onHome,onBrowserMessage:this.onBrowserMessage,onBrowserLoad:this.onBrowserLoad,onBrowserError:this.onBrowserError,onUrlBarKeyDown:this.onUrlBarKeyDown,onUrlBarChange:this.onUrlBarChange,onToggleFullscreen:i.toggleFullscreen,showErrors:!!r.displayErrors,isLoading:this.state.loading,isReady:!Object(se.a)(this.state),isBlank:this.isBlank(),refreshCount:t})}}),un=n("ud20"),pn=n("SXTD"),fn=n("r8XV"),hn=n("eccN"),dn=n.n(hn);function SQLPreview_typeof(e){return(SQLPreview_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function SQLPreview_defineProperties(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function SQLPreview_possibleConstructorReturn(e,t){return!t||"object"!==SQLPreview_typeof(t)&&"function"!=typeof t?function SQLPreview_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function SQLPreview_getPrototypeOf(e){return(SQLPreview_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function SQLPreview_setPrototypeOf(e,t){return(SQLPreview_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var mn=Object(O.connect)(un.a,["result","schema","error"])(Yt=function(e){function SQLPreview(){return function SQLPreview_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,SQLPreview),SQLPreview_possibleConstructorReturn(this,SQLPreview_getPrototypeOf(SQLPreview).apply(this,arguments))}return function SQLPreview_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&SQLPreview_setPrototypeOf(e,t)}(SQLPreview,p.a.Component),function SQLPreview_createClass(e,t,n){return t&&SQLPreview_defineProperties(e.prototype,t),n&&SQLPreview_defineProperties(e,n),e}(SQLPreview,[{key:"render",value:function render(){return p.a.createElement("div",{className:dn.a.container},p.a.createElement(pn.a,{result:this.props.result}),p.a.createElement(fn.a,{schema:this.props.schema}),p.a.createElement(oe.a,{pinnedBottom:!0,componentOnly:!0,componentError:this.props.error,timestamp:(new Date).valueOf()}))}}]),SQLPreview}())||Yt,yn={ReadOnlyCodeEditor:b.b,PersistentCodeEditor:Et,Image:Tt.a,Video:xt.a,Narrative:Rt.a,Terminal:At,OutputTerminal:tn,WebBrowser:cn,Brief:Nt.a,SQLPreview:mn};function _toConsumableArray(e){return function _arrayWithoutHoles(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function _iterableToArray(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function geometry_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function geometry_defineProperties(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function geometry_createClass(e,t,n){return t&&geometry_defineProperties(e.prototype,t),n&&geometry_defineProperties(e,n),e}var gn=["x","y"],bn={right:"x",bottom:"y",left:"x",top:"y"},_n={top:"bottom",right:"left",bottom:"top",left:"right"},vn=function(){function Range(e,t){geometry_classCallCheck(this,Range),this.min=e,this.max=t,this.length=t-e+1}return geometry_createClass(Range,[{key:"contains",value:function contains(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.buffer||0;return this.min-n<=e&&this.max+n>=e}}]),Range}(),Cn=function(){function Posn(e,t){geometry_classCallCheck(this,Posn),this.x=e,this.y=t}return geometry_createClass(Posn,[{key:"clone",value:function clone(){return new Posn(this.x,this.y)}},{key:"gte",value:function gte(e){return this.x>=e.x&&this.y>=e.y}},{key:"lte",value:function lte(e){return this.x<=e.x&&this.y<=e.y}}]),Posn}(),wn=function(){function Cell(e,t,n,o){geometry_classCallCheck(this,Cell),this.x=e,this.y=t,this.id=n,this.neighbors={},this.grid=o,this._right={value:e/o.width+1/o.width},this._bottom={value:t/o.height+1/o.height},0===e&&(this._left={value:0}),0===t&&(this._top={value:0})}return geometry_createClass(Cell,[{key:"left",value:function left(){return 0===this.x?0:this.neighbors.left.right()}},{key:"right",value:function right(){return this._right.value}},{key:"top",value:function top(){return 0===this.y?0:this.neighbors.top.bottom()}},{key:"bottom",value:function bottom(){return this._bottom.value}},{key:"soloEdges",value:function soloEdges(){return{top:void 0===this.neighbors.top,right:void 0===this.neighbors.right,bottom:void 0===this.neighbors.bottom,left:void 0===this.neighbors.left}}},{key:"set",value:function set(e,t){switch(e){case"top":if(0===this.y)throw new Error("Cannot set 'top' on top-most cell");this.neighbors.top._bottom.value=t;break;case"right":if(this.x===this.grid.width-1)throw new Error("Cannot set 'right' on right-most cell");this._right.value=t;break;case"bottom":if(this.y===this.grid.height-1)throw new Error("Cannot set 'bottom' on bottom-most cell");this._bottom.value=t;break;case"left":if(0===this.x)throw new Error("Cannot set 'left' on left-most cell");this.neighbors.left._right.value=t}}}]),Cell}(),On=function(){function Slot(e,t){geometry_classCallCheck(this,Slot),this.id=e,this.grid=t,this.cells={},this.lastEdgeSet={x:void 0,y:void 0}}return geometry_createClass(Slot,[{key:"registerCells",value:function registerCells(e){var t=!0,n=!1,o=void 0;try{for(var r,i=e[Symbol.iterator]();!(t=(r=i.next()).done);t=!0){var a=r.value;if(this.cells[a.id]=a,void 0!==a.slot)throw new Error("Can't register slot ".concat(this.id,"; cell ").concat(a.id," already belongs to slot ").concat(a.slot.id,"!"));a.slot=this}}catch(e){n=!0,o=e}finally{try{t||null==i.return||i.return()}finally{if(n)throw o}}this.calculateEdges(),this.mergePointers(),this.cacheNeighbors()}},{key:"calculateEdges",value:function calculateEdges(){this.edgeCells={top:[],right:[],bottom:[],left:[]},this.edges={top:1,right:0,bottom:0,left:1};for(var e=Object.values(this.cells),t=["top","right","bottom","left"],n=0;n<t.length;n++){var o=t[n],r=!0,i=!1,a=void 0;try{for(var s,l=e[Symbol.iterator]();!(r=(s=l.next()).done);r=!0){var c=s.value,u=c[o]();0===this.edgeCells[o].length||u===this.edges[o]?(this.edgeCells[o].push(c),this.edges[o]=u):("left"===o||"top"===o)&&u<this.edges[o]?(this.edgeCells[o]=[c],this.edges[o]=u):("right"===o||"bottom"===o)&&u>this.edges[o]&&(this.edgeCells[o]=[c],this.edges[o]=u)}}catch(e){i=!0,a=e}finally{try{r||null==l.return||l.return()}finally{if(i)throw a}}}this.edgeExtents={};var p=this.sharedEdges();for(var f in p)if(p[f]){var h=this.edgeCells[f];this.edgeExtents[f]={x:new vn(Math.min.apply(Math,_toConsumableArray(h.map(function(e){return e.left()}))),Math.max.apply(Math,_toConsumableArray(h.map(function(e){return e.right()})))),y:new vn(Math.min.apply(Math,_toConsumableArray(h.map(function(e){return e.top()}))),Math.max.apply(Math,_toConsumableArray(h.map(function(e){return e.bottom()}))))}}}},{key:"mergePointers",value:function mergePointers(){for(var e in _n){var t=_n[e],n=this.edgeCells[e][0];if(!n["_".concat(e)]){var o=n.neighbors[e];o&&(n["_".concat(e)]=o["_".concat(t)])}var r=!0,i=!1,a=void 0;try{for(var s,l=this.edgeCells[e][Symbol.iterator]();!(r=(s=l.next()).done);r=!0){var c=s.value;c["_".concat(e)]=n["_".concat(e)];var u=c.neighbors[e];u&&c["_".concat(e)]&&(u["_".concat(t)]=c["_".concat(e)])}}catch(e){i=!0,a=e}finally{try{r||null==l.return||l.return()}finally{if(i)throw a}}}}},{key:"cacheNeighbors",value:function cacheNeighbors(){for(var e={top:[],right:[],bottom:[],left:[]},t=Object.values(this.cells),n=0;n<t.length;n++){var o=t[n];o.neighbors.top&&o.top()===this.edges.top&&-1===e.top.indexOf(o.neighbors.top.slot)&&e.top.push(o.neighbors.top.slot),o.neighbors.right&&o.right()===this.edges.right&&-1===e.right.indexOf(o.neighbors.right.slot)&&e.right.push(o.neighbors.right.slot),o.neighbors.bottom&&o.bottom()===this.edges.bottom&&-1===e.bottom.indexOf(o.neighbors.bottom.slot)&&e.bottom.push(o.neighbors.bottom.slot),o.neighbors.left&&o.left()===this.edges.left&&-1===e.left.indexOf(o.neighbors.left.slot)&&e.left.push(o.neighbors.left.slot)}this.neighbors=e}},{key:"soloEdges",value:function soloEdges(){return{top:this.edgeCells.top[0].soloEdges().top,right:this.edgeCells.right[0].soloEdges().right,bottom:this.edgeCells.bottom[0].soloEdges().bottom,left:this.edgeCells.left[0].soloEdges().left}}},{key:"sharedEdges",value:function sharedEdges(){return{top:!this.edgeCells.top[0].soloEdges().top,right:!this.edgeCells.right[0].soloEdges().right,bottom:!this.edgeCells.bottom[0].soloEdges().bottom,left:!this.edgeCells.left[0].soloEdges().left}}},{key:"top",value:function top(){return this.edgeCells.top[0].top()}},{key:"right",value:function right(){return this.edgeCells.right[0].right()}},{key:"bottom",value:function bottom(){return this.edgeCells.bottom[0].bottom()}},{key:"origin",value:function origin(){return new Cn(this.left(),this.top())}},{key:"left",value:function left(){return this.edgeCells.left[0].left()}},{key:"width",value:function width(){return this.right()-this.left()}},{key:"roundedWidth",value:function roundedWidth(){return Math.round(100*this.width())/100}},{key:"height",value:function height(){return this.bottom()-this.top()}},{key:"roundedHeight",value:function roundedHeight(){return Math.round(100*this.height())/100}},{key:"coordExtent",value:function coordExtent(){return{x:new vn(this.edgeCells.left[0].x,this.edgeCells.right[0].x),y:new vn(this.edgeCells.top[0].y,this.edgeCells.bottom[0].y)}}},{key:"collapsed",value:function collapsed(e){switch(e){case"x":return this.roundedWidth()<=.04;case"y":return this.roundedHeight()<=.06;default:return this.collapsed("x")||this.collapsed("y")}}},{key:"elgibileToSnap",value:function elgibileToSnap(e){switch(e){case"x":var t=this.roundedWidth();return t>.04&&t<=.1;default:var n=this.roundedHeight();return n>.06&&n<=.17}}},{key:"withinCollapseThreshold",value:function withinCollapseThreshold(e){switch(e){case"x":return this.roundedWidth()<=.1;default:return this.roundedHeight()<=.17}}},{key:"slack",value:function slack(e){switch(e){case"x":return this.roundedWidth()-.04;default:return this.roundedHeight()-.06}}},{key:"firstSlotWithSlackInDirection",value:function firstSlotWithSlackInDirection(e){var t=bn[e];return this.slack(t)>0?this:0===this.neighbors[e].length?null:this.neighbors[e][0].firstSlotWithSlackInDirection(e)}},{key:"neighborWithSlackInDirection",value:function neighborWithSlackInDirection(e){switch(e){case"top":case"left":return this.firstSlotWithSlackInDirection(e);case"right":case"bottom":return this.neighbors[e][0].firstSlotWithSlackInDirection(e);default:return null}}},{key:"firstDirectionWithSlack",value:function firstDirectionWithSlack(e){var t=!0,n=!1,o=void 0;try{for(var r,i=e[Symbol.iterator]();!(t=(r=i.next()).done);t=!0){var a=r.value;if(this.neighborWithSlackInDirection(a))return a}}catch(e){n=!0,o=e}finally{try{t||null==i.return||i.return()}finally{if(n)throw o}}return null}},{key:"set",value:function set(e,t){var n=this,o=!0,r=!1,i=void 0;try{for(var a,s=this.edgeCells[e][Symbol.iterator]();!(o=(a=s.next()).done);o=!0){a.value.set(e,t)}}catch(e){r=!0,i=e}finally{try{o||null==s.return||s.return()}finally{if(r)throw i}}var l=bn[e];this.lastEdgeSet[l]=e;var c=!0,u=!1,p=void 0;try{for(var f,h=this.neighbors[e][Symbol.iterator]();!(c=(f=h.next()).done);c=!0){var d=f.value;d.lastEdgeSet[l]=_n[e],d.redistributeCells();var m=d.neighbors[_n[e]].filter(function(e){return e!==n}),y=!0,g=!1,b=void 0;try{for(var _,v=m[Symbol.iterator]();!(y=(_=v.next()).done);y=!0){var C=_.value;C.lastEdgeSet[l]=e,C.redistributeCells()}}catch(e){g=!0,b=e}finally{try{y||null==v.return||v.return()}finally{if(g)throw b}}}}catch(e){u=!0,p=e}finally{try{c||null==h.return||h.return()}finally{if(u)throw p}}this.redistributeCells()}},{key:"push",value:function push(e,t){var n=_n[e];if(0===this.neighbors[e].length)return!1;if("top"===e)return this.neighbors.top[0].push(n,-t);if("left"===e)return this.neighbors.left[0].push(n,-t);var o,r=bn[e];if(!(o=t>0?this.neighborWithSlackInDirection(e):this.neighborWithSlackInDirection(n)))return!1;var i=t<0;t=Math.min(Math.abs(t),o.slack(r)),i&&(t=-t),this.set(e,this[e]()+t),this.enforceMinimumDimensions(e);var a=this.neighbors[t>0?e:n];if(a){var s=!0,l=!1,c=void 0;try{for(var u,p=a[Symbol.iterator]();!(s=(u=p.next()).done);s=!0){u.value.enforceMinimumDimensions(n)}}catch(e){l=!0,c=e}finally{try{s||null==p.return||p.return()}finally{if(l)throw c}}}return!0}},{key:"redistributeCells",value:function redistributeCells(){for(var e=Object.values(this.cells),t=this.coordExtent(),n=0;n<e.length;n++){var o=e[n];if(t.x.length>1){var r=(o.x+1-t.x.min)/t.x.length;o.neighbors.right&&o.set("right",this.left()+r*this.width())}if(t.y.length>1){var i=(o.y+1-t.y.min)/t.y.length;o.neighbors.bottom&&o.set("bottom",this.top()+i*this.height())}}}},{key:"fullscreen",value:function fullscreen(){var e=!1;for(var t in bn)for(;this.push(t,1);)e=!0;return e}},{key:"enforceMinimumDimensions",value:function enforceMinimumDimensions(e){var t=this.width(),n=this.height();switch(e){case"left":t<.04&&(this.neighbors.right.length?this.set("right",this.left()+.04):this.set("left",this.right()-.04));break;case"right":t<.04&&(this.neighbors.left.length?this.set("left",this.right()-.04):this.set("right",this.left()+.04));break;case"top":n<.06&&(this.neighbors.bottom.length?this.set("bottom",this.top()+.06):this.set("top",this.bottom()-.06));break;default:n<.06&&(this.neighbors.top.length?this.set("top",this.bottom()-.06):this.set("bottom",this.top()+.06))}}}]),Slot}(),Sn=function(){function Grid(e,t){geometry_classCallCheck(this,Grid),this.width=e,this.height=t,this.cells=[],this.slots={};for(var n=0;n<t;n+=1)for(var o=this.cells[n]=[],r=0;r<e;r+=1){var i=new wn(r,n,n*e+r,this);o[r]=i}for(var a=0;a<t;a+=1)for(var s=0;s<e;s+=1){var l=this.getCellByCoords(s,a);a>0&&(l.neighbors.top=this.getCellByCoords(s,a-1)),s<e-1&&(l.neighbors.right=this.getCellByCoords(s+1,a)),a<t-1&&(l.neighbors.bottom=this.getCellByCoords(s,a+1)),s>0&&(l.neighbors.left=this.getCellByCoords(s-1,a))}}return geometry_createClass(Grid,[{key:"registerSlot",value:function registerSlot(e){var t=this,n=new On(e,this);this.slots[e]=n;var o=e.split("").map(function(e){return t.getCellById(parseInt(e,10))});n.registerCells(o),this.slotsList=Object.values(this.slots);var r=!0,i=!1,a=void 0;try{for(var s,l=this.slotsList[Symbol.iterator]();!(r=(s=l.next()).done);r=!0){s.value.cacheNeighbors()}}catch(e){i=!0,a=e}finally{try{r||null==l.return||l.return()}finally{if(i)throw a}}}},{key:"getSlotById",value:function getSlotById(e){return this.slots[e]}},{key:"getCellByCoords",value:function getCellByCoords(e,t){return this.cells[t][e]}},{key:"getCellById",value:function getCellById(e){var t=e%this.width,n=Math.floor(e/this.width);return this.cells[n][t]}},{key:"registerDOMNode",value:function registerDOMNode(e){this.DOMNode=e}},{key:"DOMNodeRect",value:function DOMNodeRect(){return this.DOMNode.getBoundingClientRect()}},{key:"percentageToPx",value:function percentageToPx(e,t){if(0===t)return 0;switch(e){case"x":return this.DOMNodeRect().width*t;default:return this.DOMNodeRect().height*t}}},{key:"pxToPercentage",value:function pxToPercentage(e,t){if(0===t)return 0;switch(e){case"x":return t/this.DOMNodeRect().width;default:return t/this.DOMNodeRect().height}}},{key:"gutterUnderPosn",value:function gutterUnderPosn(e){var t=this.DOMNodeRect(),n=new Cn(e.x-t.left,e.y-t.top),o=!0,r=!1,i=void 0;try{for(var a,s=this.slotsList[Symbol.iterator]();!(o=(a=s.next()).done);o=!0){var l=a.value;for(var c in l.edgeExtents)switch(c){case"right":var u=this.percentageToPx("x",l[c]()),p=this.percentageToPx("y",l.edgeExtents[c].y.min),f=this.percentageToPx("y",l.edgeExtents[c].y.max);if(Math.abs(n.x-u)<7&&n.y>=p&&n.y<=f)return{edge:c,slot:l};break;case"bottom":var h=this.percentageToPx("y",l[c]()),d=this.percentageToPx("x",l.edgeExtents[c].x.min),m=this.percentageToPx("x",l.edgeExtents[c].x.max);if(Math.abs(n.y-h)<7&&n.x>=d&&n.x<=m)return{edge:c,slot:l}}}}catch(e){r=!0,i=e}finally{try{o||null==s.return||s.return()}finally{if(r)throw i}}}},{key:"recalculateEdges",value:function recalculateEdges(){var e=!0,t=!1,n=void 0;try{for(var o,r=this.slotsList[Symbol.iterator]();!(e=(o=r.next()).done);e=!0){o.value.calculateEdges()}}catch(e){t=!0,n=e}finally{try{e||null==r.return||r.return()}finally{if(t)throw n}}}},{key:"getSlotsWaitingToCollapse",value:function getSlotsWaitingToCollapse(e){return this.slotsList.filter(function(t){return t.elgibileToSnap(e)})}},{key:"expandSlot",value:function expandSlot(e){var t=this.getSlotById(e),n=t.origin(),o=t.coordExtent(),r=!0,i=!1,a=void 0;try{for(var s,l=gn[Symbol.iterator]();!(r=(s=l.next()).done);r=!0){var c=s.value,u=t.lastEdgeSet[c],p=t.firstDirectionWithSlack([u,_n[u]]);if(p){var f=void 0;if(t.withinCollapseThreshold(c))switch(c){case"x":f=o[c].length/this.width,t.push(p,f-t.width());break;default:f=o[c].length/this.height,t.push(p,f-t.height())}}}}catch(e){i=!0,a=e}finally{try{r||null==l.return||l.return()}finally{if(i)throw a}}this.snapSlots(n)}},{key:"expandSlotInDirection",value:function expandSlotInDirection(e,t){var n,o=this.getSlotById(e),r=o.neighbors[t];r.length>0&&(n=r[0].slack(bn[t]),o.push(t,n))}},{key:"toggleFullscreenSlot",value:function toggleFullscreenSlot(e){if(!this.slots[e].fullscreen()){for(var t=1/this.width,n=1/this.height,o=0;o<this.height;o+=1)for(var r=0;r<this.width;r+=1){var i=this.cells[o][r];i._right.value=(r+1)*t,i._bottom.value=(o+1)*n}return!1}return!0}},{key:"fullscreenSlot",value:function fullscreenSlot(){var e=this.slotsList.filter(function(e){return!(e.withinCollapseThreshold("x")||e.withinCollapseThreshold("y"))});return 1===e.length?e[0]:null}},{key:"snapSlots",value:function snapSlots(e){this.recalculateEdges();for(var t=[],n={},o=["x","y"],r=0;r<o.length;r++){var i=o[r],a=this.getSlotsWaitingToCollapse(i),s=!0,l=!1,c=void 0;try{for(var u,p=a[Symbol.iterator]();!(s=(u=p.next()).done);s=!0){var f=u.value,h=void 0,d=-f.slack(i);if(h=n[i]?n[i]:f.origin().lte(e)?{x:"right",y:"bottom"}[i]:{x:"left",y:"top"}[i],(0===f.neighbors[h].length||t.indexOf(f.neighbors[h][0].id)>-1)&&(h=_n[h]),0===f.neighbors[h].length||t.indexOf(f.neighbors[h][0].id)>-1)return;n[i]=h,f.push(h,d),t.push(f.id)}}catch(e){l=!0,c=e}finally{try{s||null==p.return||p.return()}finally{if(l)throw c}}}}}]),Grid}(),kn=n("dLBa"),Pn={PersistentCodeEditor:"CodeEditor",WebBrowser:"Preview",Terminal:"Terminal",OutputTerminal:"Terminal",Brief:"Narrative",Image:"Visual",Video:"Visual",SQLPreview:"SQLPreview"},En=kn.a.extend({initialize:function initialize(){this.arrangements={},this.registerLayouts([{Narrative:"03"},{Narrative:"03",CodeEditor:"1245"},{Narrative:"03",CodeEditor:"14",ReadOnlyCodeEditor:"25"},{Narrative:"03",CodeEditor:"1",ReadOnlyCodeEditor:"2",Preview:"45"},{Narrative:"03",CodeEditor:"1",ReadOnlyCodeEditor:"2",Terminal:"45"},{Narrative:"03",Preview:"1245"},{Narrative:"03",Terminal:"1245"},{Narrative:"03",Visual:"1245"},{Narrative:"03",SQLPreview:"1245"},{Narrative:"03",CodeEditor:"14",Preview:"25"},{Narrative:"03",CodeEditor:"14",Visual:"25"},{Narrative:"03",CodeEditor:"14",Terminal:"25"},{Narrative:"03",CodeEditor:"14",SQLPreview:"25"},{Narrative:"03",CodeEditor:"1",Preview:"25",Terminal:"4"},{Narrative:"03",CodeEditor:"1",Visual:"25",Terminal:"4"},{Narrative:"03",Preview:"14",Visual:"25"},{Narrative:"03",Preview:"25",Terminal:"14"},{Narrative:"03",Terminal:"45",Visual:"12"}])},registerLayouts:function registerLayouts(e){var t=this;e.forEach(function(e){t.registerLayout(e)})},registerLayout:function registerLayout(e){var t=Object.keys(e).sort().join("_"),n={};for(var o in e)n[o]={slots:"".concat(e[o]),cols:this.determineColForSlots(e[o])};this.arrangements[t]=n},determineColForSlots:function determineColForSlots(e){var t="";return/[03]/.test(e+="")&&(t+="1"),/[14]/.test(e)&&(t+="2"),/[25]/.test(e)&&(t+="3"),t},getArrangement:function getArrangement(e){return this.arrangements[this.buildComponentName(e)]},arrangementAmong:function arrangementAmong(e,t){var n=this.getArrangement(t);if(void 0===n)throw new Error("Couldn't find layout for ".concat(this.buildComponentName(t)));return n[Pn[e.type]]||n[e.type]},buildComponentName:function buildComponentName(e){return Object.keys(e).map(function(e){return Pn[e]||e}).sort(function(e,t){return e.toLowerCase().localeCompare(t.toLowerCase())}).join("_")}}),Tn=null,xn=null,Rn=function save(){if((Tn=document.activeElement)&&window.getSelection){var e=window.getSelection();xn="Range"===e.type?e.getRangeAt(0):null}},Nn=function restore(){if(Tn&&(Tn.focus(),xn&&window.getSelection)){var e=window.getSelection();e.rangeCount>0&&e.removeAllRanges(),e.addRange(xn)}},jn=n("fLhW"),Mn={componentDidMount:function componentDidMount(){document.addEventListener("mousemove",this.onMouseMove),document.addEventListener("mouseup",this.onMouseUp)},componentWillUnmount:function componentWillUnmount(){document.removeEventListener("mousemove",this.onMouseMove),document.removeEventListener("mouseup",this.onMouseUp)},onMouseDown:function onMouseDown(e){0===e.button&&this.handleMouseDown&&this.handleMouseDown(e)},onMouseUp:function onMouseUp(e){if(this.handleMouseUp){if(void 0!==e._dispatchIDs)return;this.handleMouseUp(e)}},onMouseMove:function onMouseMove(e){if(this.handleMouseMove){if(void 0!==e._dispatchIDs)return;this.handleMouseMove(e,this.state.didMouseMove),this.state.didMouseMove=!0}}};function ComponentGrid_objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},o=Object.keys(Object(n));"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),o.forEach(function(t){ComponentGrid_defineProperty(e,t,n[t])})}return e}function ComponentGrid_defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Fn={Terminal:"terminal",OutputTerminal:"terminal",PersistentCodeEditor:"editor",ReadOnlyCodeEditor:"editor",Image:"image",Narrative:"learn",WebBrowser:"browser"},Wn=v()({displayName:"ComponentGrid",mixins:[Mn],getInitialState:function getInitialState(){for(var e=new Sn(3,2),t={fullscreenSlot:void 0,config:new En,cursor:"auto",grid:e,slotArrangements:{},hasTrackedDragging:!1},n=this.props.components,o=Object.keys(n),r=0;r<o.length;r++){var i=o[r],a=t.config.arrangementAmong(n[i],n);e.registerSlot(a.slots)}for(var s=0;s<e.width*e.height;s+=1)e.getCellById(s).slot||e.registerSlot("".concat(s));return void 0!==this.props.gridSetup&&this.props.gridSetup(e),t},componentDidMount:function componentDidMount(){this.state.grid.registerDOMNode(Gt.a.findDOMNode(this))},UNSAFE_componentWillUpdate:function UNSAFE_componentWillUpdate(e,t){t.grid&&(t.fullscreenSlot=t.grid.fullscreenSlot())},componentDidUpdate:function componentDidUpdate(){this.state.resizing&&Bt.a.resized(),this.state.resizing=!1},hasCheckWork:function hasCheckWork(){var e=this.props,t=e.contentItemType,n=e.components;return!("project"===t&&!Object.keys(n).includes("WebBrowser"))&&(!0===l()(n,"Terminal.prevent_checkpoint_run")&&!0===l()(n,"PersistentCodeEditor.no_run_button"))},evaluateExercise:function evaluateExercise(){return this.props.checkpointsRunning?Promise.resolve():this.hasCheckWork()?R.a.checkWork():R.a.saveFilesAndCheckWork()},selectComponentForError:function selectComponentForError(){for(var e=this.props.components,t=["PersistentCodeEditor","Terminal","WebBrowser"],n=0;n<t.length;n++){var o=t[n];if(e[o])return o}var r=Object.keys(e).filter(function(e){return"Narrative"!==e});return r.length>0?r[0]:null},buildComponents:function buildComponents(){for(var e=[],t=this.props.components,n=Object.keys(t),o=0;o<n.length;o++){var r=n[o],i=yn[t[r].type],s=this.state.config.arrangementAmong(t[r],t),l=this.props.helpers.componentShouldBeDisabled(r);this.state.slotArrangements[r]=s.slots;var c=this.toggleFullscreenSlot.bind(this,s.slots),u=p.a.createElement(g,{toggleFullscreen:c,isFullscreen:!!this.state.fullscreenSlot}),f=ComponentGrid_objectSpread({},this.props.modifiers,{disabled:l,fullscreen:s.slots===this.state.fullscreenSlot,dragging:this.state.dragging}),h={fullscreenButton:u,evaluateExercise:this.evaluateExercise,hasCheckWork:this.hasCheckWork(),contentItemType:this.props.contentItemType};a()(h,this.props.presenter);var d=this.selectComponentForError();h.displayErrors=d===r,h=a()({},t[r],h);var m={arrangement:s,wall:this.props.presenter.wall,geometry:this.state.grid.slots[s.slots]},b={toggleFullscreen:this.toggleFullscreenSlot.bind(this,s.slots)},_={constructor:i,presenter:h,name:r,icon:Fn[r]};e.push(p.a.createElement(y,{deferred:-1===["Brief","Narrative"].indexOf(r),locations:s.slots,component:_,slot:m,modifiers:f,helpers:b,adapter:this.props.adapter,user:this.props.user,expandSlot:this.expandSlot,key:"slot:".concat(r)}))}return e},expandSlot:function expandSlot(e){this.state.grid.expandSlot(e),this.setState(function(e){return{grid:e.grid,resizing:!0}})},expandSlotByName:function expandSlotByName(e){var t=this.state.slotArrangements[e];if(!t)throw new Error("No arrangement for ".concat(e));this.state.grid.expandSlot(t),this.setState(function(e){return{grid:e.grid,resizing:!0}})},toggleFullscreenSlot:function toggleFullscreenSlot(e){this.state.grid.toggleFullscreenSlot(e),Object(jn.b)("user","click",{target:"platformFullscreen"}),this.setState(function(e){return{grid:e.grid,resizing:!0}})},hasDOMNode:function hasDOMNode(){return Boolean(this.state.grid.DOMNode)},handleMouseMove:function handleMouseMove(e,t){if(this.hasDOMNode()){var n=this.getPosns(e).pagePosn;if(this.state.dragging){if(e.preventDefault(),this.props.adapter.trigger("interface:resizing"),this.state.hasTrackedDragging||(Object(jn.b)("user","click",{target:"platformDragHandle"}),this.setState(function(){return{hasTrackedDragging:!0}})),t){var o,r=this.state.focusedGutter.edge;if("right"===r){var i=this.state.grid.DOMNodeRect().left+this.state.grid.percentageToPx("x",this.state.focusedGutter.slot.right());o=n.x-i,this.state.focusedGutter.slot.push("right",this.state.grid.pxToPercentage("x",o)),this.setState(function(e){return{grid:e.grid}})}else if("bottom"===r){var a=this.state.grid.DOMNodeRect().top+this.state.grid.percentageToPx("y",this.state.focusedGutter.slot.bottom());o=n.y-a,this.state.focusedGutter.slot.push("bottom",this.state.grid.pxToPercentage("y",o)),this.setState(function(e){return{grid:e.grid}})}}}else{var s,l=this.state.grid.gutterUnderPosn(n);s=void 0!==l?{right:"ew-resize",bottom:"ns-resize"}[l.edge]:"auto",Rn(),this.state.focusedGutter===l&&this.state.cursor===s||this.setState({focusedGutter:l,cursor:s})}}},handleMouseDown:function handleMouseDown(){this.state.focusedGutter&&this.setState({dragging:!0})},handleMouseUp:function handleMouseUp(e){this.state.dragging&&(this.state.grid.snapSlots(this.state.focusedGutter.slot.origin()),e.stopPropagation(),e.preventDefault(),r()(Nn)),this.setState(function(e){return{grid:e.grid,dragging:!1,resizing:e.dragging}})},getPosns:function getPosns(e){if(!this.hasDOMNode())return{};var t=this.state.grid.DOMNodeRect();return{offsetPosn:new Cn(e.pageX-t.left,e.offsetY-t.top),pagePosn:new Cn(e.pageX,e.pageY)}},render:function render(){var e=h()({"fcn-grid":!0,"fcn-grid--dragging":!!this.state.dragging}),t={cursor:this.state.cursor};return p.a.createElement("div",{className:e,onMouseMove:this.onMouseMove,onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,style:t},this.buildComponents(),this.props.presenter.wall)}});t.a=Object(c.connect)(function mapStateToProps(e){return{checkpointsRunning:Object(k.h)(e)}},null,null,{forwardRef:!0})(Wn)},JYW0:function(e,t,n){e.exports={runButton:"runButton__2uQVTMn2N52sHjz-Bz2rI2",tooltip:"tooltip__17rL50jQq97FrARyC1uTVX"}},MI1X:function(e,t,n){e.exports={cmeditor:"cmeditor__3Pc5p_v9UgCgf3_qkzCeeO",edFToolLayoutContainer:"edFToolLayoutContainer__1k0ofduspbCuwrugNJKsJd",mainContainer:"mainContainer__3f-bTuWfhAnqTEI2uZ3ZWg",layoutCollapsed:"layoutCollapsed__3xm5yNjl9Xl7k6RghljlBs",noNavigator:"noNavigator__2BCA6PQSwz-zCOMpp-nOa-",includeFileNavTab:"includeFileNavTab__1PbU2wBQKyqP5eZPnKVDBW",fileTabOpen:"fileTabOpen__3RNjkMsg58BD29bMER7hiH",tabsOffSet:"tabsOffSet__2Bt6pWD8KrnHZw8kYuhqyf",editorContainerPadded:"editorContainerPadded__1HINGnQ-Cn2f9BdqehjYlq",editorFooter:"editorFooter__3vwk-k2NGitXY-FI-IT16w",codeEditorSkeleton:"codeEditorSkeleton__1_B5WnzvIeZjvSmOntzI4t",footerContainer:"footerContainer__1z5LFGBvRHKImhrGkUdzEr",errorDisplay:"errorDisplay__1W34lsMyVa3sX7aT9JxDPH"}},Pduz:function(e,t,n){e.exports={alarm:"alarm__3MtzgTYzP6r5EVrzXWHIfj",lookHere:"lookHere__71Zqn1mBfojfq9HgZ8OrJ",activeAlarm:"activeAlarm__3xEJceXIyR-nv71sNshA3O",alarmContainer:"alarmContainer__16VA91HscL7XZKOafJJdeC",dropdown:"dropdown__2J5PpoTcoQNQHZRbSqaNHu",content:"content__1wLELogSwZi8YS_be0yqH8",focusTimerToolContainer:"focusTimerToolContainer__2-P6ZcbiHJ90DyA_IU76Ox",status:"status__1uzW2fLhtLfbuKqQ1kIPDf",timerCircle:"timerCircle__14Ktf2Euc9om8-px40kI4C",inactiveTimerCircle:"inactiveTimerCircle__MZRLB8PRo7473cMXm3ekc"}},Qq7W:function(e,t,n){e.exports={error:"error__2dcMbp_Emtga3iuiet8F6D",finishedState:"finishedState__3nu5bFOfPEFjiuFbx_vEDK",image:"image__dhfW0Do8eLNye3ai1VOQE"}},YSKS:function(e,t,n){e.exports={commitButton:"commitButton__xovRqMzReHqwhevYHoRFZ",timeForm:"timeForm__1btHZX5dhsc1nOl_JsVe1Q",timeInputBox:"timeInputBox__1Sxcig_3zPgTEzZj3bicjM",minutesLabel:"minutesLabel__2Aa9UMzIP07BehXs_vRxfI"}},Z6NK:function(e,t,n){"use strict";var o=n("BzM2"),r=n("eikI"),i={componentShouldBeDisabled:function componentShouldBeDisabled(e){switch(e){case"Terminal":case"OutputTerminal":case"WebBrowser":case"PersistentCodeEditor":case"ReadOnlyCodeEditor":if(!this.state.workspaceReady)return!0}return!!(this.isExerciseLocked&&this.isExerciseLocked()||r.a.isAnon())}},a=n("q1tI"),s=n.n(a),l=n("MLxE"),c=n("fLhW");function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function _possibleConstructorReturn(e,t){return!t||"object"!==_typeof(t)&&"function"!=typeof t?function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var u=function(e){function OutageWall(){var e,t;!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,OutageWall);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(t=_possibleConstructorReturn(this,(e=_getPrototypeOf(OutageWall)).call.apply(e,[this].concat(o)))).sendAway=function(){Object(c.b)("user","click",{target:"outageRedirect",skill:t.props.courseSlug}),window.location.replace("/learn")},t}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}(OutageWall,s.a.Component),function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}(OutageWall,[{key:"render",value:function render(){return s.a.createElement(l.a,null,s.a.createElement("h2",null,"Sorry about that!"),s.a.createElement("p",null,"There are a lot of people taking this course right now! It might be unavailable until the crowd clears."),s.a.createElement("p",null,"Until then, how about taking one of our other courses?"),s.a.createElement("button",{onClick:this.sendAway,className:"button button--alernative fcn-wall__nav",type:"button"},"Browse More Courses"))}}]),OutageWall}(),p=n("hhPA"),f=n.n(p),h=n("Smyl"),d=f.a.createStore({name:"OutageStore",init:function init(){this.listenToMany(h.a)},onApologize:function onApologize(){this.trigger(!0)}}),m={componentDidMount:function componentDidMount(){d.listen(this.apologizeForOutage,this)},apologizeForOutage:function apologizeForOutage(){Object(c.b)("visit","outage_apology",{course:this.props.course.slug}),this.setState({wall:s.a.createElement(u,{courseSlug:this.props.course.slug})})}},y=n("fxH1");n.d(t,"a",function(){return g});var g=[o.StateMixin.connect(y.a),i,m]},Z9qr:function(e,t,n){e.exports={codeFooterButton:"codeFooterButton__EBaDNNWQLtjTzNWBwrVVY",tooltip:"tooltip__LhVnSskKTtV__LKf6Gkf5"}},"b7G+":function(e,t,n){e.exports={outputTerminalContainerSkeleton:"outputTerminalContainerSkeleton__13aJnrhiBO0WxdgHcssBmO",outputTerminalContainerSkeletonBody:"outputTerminalContainerSkeletonBody__3fCPpAWEboVRRIsKQ6WIDZ"}},bbAx:function(e,t,n){e.exports={button:"button__8RgBAq12E71O1XuArYhoJ"}},bf6c:function(e,t,n){"use strict";n.d(t,"a",function(){return c});var o=n("o0o1"),r=n.n(o),i=n("t2YD"),a=n("bizM"),s=n("NZ0w"),l=n("eikI");function _objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},o=Object.keys(Object(n));"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),o.forEach(function(t){_defineProperty(e,t,n[t])})}return e}function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function asyncGeneratorStep(e,t,n,o,r,i,a){try{var s=e[i](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(o,r)}var c=function(){var e=function _asyncToGenerator(e){return function(){var t=this,n=arguments;return new Promise(function(o,r){var i=e.apply(t,n);function _next(e){asyncGeneratorStep(i,o,r,_next,_throw,"next",e)}function _throw(e){asyncGeneratorStep(i,o,r,_next,_throw,"throw",e)}_next(void 0)})}}(r.a.mark(function _callee(e){var t,n,o;return r.a.wrap(function _callee$(r){for(;;)switch(r.prev=r.next){case 0:if(t=e.content,n=e.userId,!l.a.isAnon()){r.next=3;break}return r.abrupt("return");case 3:return(o=_objectSpread({},t.workspace,{einConfig:t.ein_config})).user_id=n,t.components.PersistentCodeEditor?i.a.publishFilenames(t.components.PersistentCodeEditor.files):i.a.publishFilenames([]),r.next=8,s.a.setWorkspace(o);case 8:return r.next=10,a.a.clearHistory();case 10:if(!t.components.WebBrowser){r.next=14;break}if(!t.components.WebBrowser.display_url){r.next=14;break}return r.next=14,a.a.load(t.components.WebBrowser.display_url);case 14:case"end":return r.stop()}},_callee,this)}));return function setupWorkspace(t){return e.apply(this,arguments)}}()},dLBa:function(e,t,n){"use strict";var o=n("w/QP"),r=n.n(o),i=n("zdiy"),a=n.n(i),s=n("OFL0"),l=n.n(s),c=n("gB9P"),u=n.n(c);function Controller(){this.initialize.apply(this,arguments)}Controller.extend=function customExtend(e,t){var n,o=this;return n=e&&l()(e,"constructor")?e.constructor:function child(){return o.apply(this,arguments)},a()(n,o,t),n.prototype=r()(o.prototype,e),n.prototype.constructor=n,n.__super__=o.prototype,n},Controller.prototype=u.a.mixin({}),t.a=Controller},eccN:function(e,t,n){e.exports={container:"container__2WQwtWiTllSu0yDHZQdxKB",containerWrapper:"containerWrapper__3rtJDeuXvj4GC09Zp_V6Yz"}},fxH1:function(e,t,n){"use strict";var o=n("hhPA"),r=n.n(o),i=n("BzM2"),a=n("AUig"),s=n("ecza"),l=n("eikI");t.a=r.a.createStore({name:"AdminStore",mixins:[i.StateMixin.store,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l.a.get("_id"),n="PersistLocalStore-".concat(e,"-").concat(t);return{init:function init(){this.getDefaultState?e||s.a.error({message:"PersistLocal mixin requires a string key to be passed in."}):s.a.error({message:"PersistLocal mixin requires method: getDefaultState"})},getInitialState:function getInitialState(){var e=this.getPersistedState();return e||this.getDefaultState()},getPersistedState:function getPersistedState(){try{var t=localStorage.getItem(n);if(t)return JSON.parse(t)}catch(t){s.a.error({message:"Cannot get persisted state for ".concat(e)})}return null},preEmit:function preEmit(t){try{localStorage.setItem(n,JSON.stringify(t))}catch(t){s.a.error({message:"Cannot set persisted state for ".concat(e)})}}}}("adminStore")],getDefaultState:function getDefaultState(){return{uploadSavepoints:!1,nolock:!1,authoringMode:!1,toggleWorkspaceNaming:!1}},init:function init(){this.listenTo(a.a.adminChange,this.onAdminChange),this.listenTo(a.a.toggleAuthoringMode,this.toggleAuthoringMode),this.listenTo(a.a.toggleNoLock,this.toggleNoLock)},onAdminChange:function onAdminChange(e,t){var n=JSON.parse(JSON.stringify(this.state));n[e]=t,this.setState(n)},toggleAuthoringMode:function toggleAuthoringMode(){this.setState({authoringMode:!this.state.authoringMode})},toggleNoLock:function toggleNoLock(){this.setState({nolock:!this.state.nolock})}})},i3sr:function(e,t,n){"use strict";var o=n("q1tI"),r=n.n(o),i=n("w7o4"),a=n("NuJE"),s=n("gnvm"),l=n("QqFe"),c=n("Xxlx"),u=n("fLhW"),p=n("eikI"),f=n("E41U"),h=n.n(f);function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function _possibleConstructorReturn(e,t){return!t||"object"!==_typeof(t)&&"function"!=typeof t?function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var d=function(e){function MaintenancePane(){var e,t;!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,MaintenancePane);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(t=_possibleConstructorReturn(this,(e=_getPrototypeOf(MaintenancePane)).call.apply(e,[this].concat(o)))).state={notify:!1},t.notify=function(){Object(u.b)("user","click",{element:"maintenance_notify",slug:t.props.slug}),t.setState({notify:!0})},t}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}(MaintenancePane,o["Component"]),function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}(MaintenancePane,[{key:"renderNofiicationButton",value:function renderNofiicationButton(){if(p.a.isAnon())return null;var e=this.state.notify?"nuetral":"secondary";return r.a.createElement(l.a,{block:!0,theme:e,className:h.a.maintButton,onClick:this.notify},this.state.notify?"Ok we'll let you know!":"Notify Me When This Course Is Available")}},{key:"render",value:function render(){return r.a.createElement(i.a,{className:h.a.container},r.a.createElement(a.a,{grow:1,column:!0,className:h.a.itemRow,center:!0},r.a.createElement(a.a,{center:!0,className:h.a.iconContainer},r.a.createElement(s.a,{name:"maintenance",height:60,width:60,className:h.a.icon})),r.a.createElement("h1",{className:h.a.headerMsg},"Under Construction"),r.a.createElement(a.a,{column:!0,className:h.a.mainMsg},r.a.createElement("p",null,"Hey there,"),r.a.createElement("p",null,"We are currently having a service outage, and some of our content is unavailable. We are working hard to get this fixed, and appreciate your patience!"),r.a.createElement("p",null,"Keep up the good work!")),r.a.createElement(a.a,null,r.a.createElement(c.a,{href:"/catalog"},r.a.createElement(l.a,{theme:"secondary",className:h.a.maintButton},"Explore All Courses")),this.renderNofiicationButton())))}}]),MaintenancePane}();t.a=d},oqPb:function(e,t,n){e.exports=n.p+"58bc6bc211514dbfbd8ed1add6a87a49.svg"},rYBX:function(e,t,n){e.exports={container:"container__3fYOsbzX6XcVJs0aoAXfaV"}},vYtj:function(e,t,n){e.exports=n.p+"9863bf17c1f2242a1bea6434fa8259a4.svg"},zqu8:function(e,t,n){"use strict";var o=n("ncDI"),r=n.n(o),i=n("F6+0"),a=n("NZ0w"),s=n("lkI2"),l=n("q1tI"),c=n.n(l);function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function _possibleConstructorReturn(e,t){return!t||"object"!==_typeof(t)&&"function"!=typeof t?function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var u=function(e){function LegacyLearningEnvironment(){return function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,LegacyLearningEnvironment),_possibleConstructorReturn(this,_getPrototypeOf(LegacyLearningEnvironment).apply(this,arguments))}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}(LegacyLearningEnvironment,c.a.Component),function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}(LegacyLearningEnvironment,[{key:"componentDidMount",value:function componentDidMount(){this.resizeCallback=r()(window,"resize",function(){i.a.resized()}),this.onlineCallback=r()(window,"online",function(){Object(s.a)("info","Reconnected from offline state"),a.a.setOfflineState(!1)}),this.offlineCallback=r()(window,"offline",function(){a.a.setOfflineState(!0)})}},{key:"componentWillUnmount",value:function componentWillUnmount(){window.removeEventListener("resize",this.resizeCallback),window.removeEventListener("online",this.onlineCallback),window.removeEventListener("offline",this.offlineCallback)}},{key:"render",value:function render(){return this.props.children}}]),LegacyLearningEnvironment}();t.a=u}}]);
//# sourceMappingURL=224.7939ed43c0fc7f856713.chunk.js.map