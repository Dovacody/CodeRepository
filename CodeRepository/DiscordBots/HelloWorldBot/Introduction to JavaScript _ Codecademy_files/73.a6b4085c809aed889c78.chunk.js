(window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[]).push([[73],{T7Vo:function(e,t,i){"use strict";var s=i("hhPA"),a=i.n(s),n=i("BzM2"),l=i("ydTQ"),r=i("kuGx"),o=i("ud20"),h=i("071C"),c={name:"EvaluatedCodeStore",mixins:[n.StateMixin.store],getInitialState:function getInitialState(){return{evaluatingCode:!1}},evaluateCodeCb:function evaluateCodeCb(e){e.schema?o.a.setState(e):(e.stdout||e.stderr)&&(h.a.stdout(e.stdout),h.a.stderr(e.stderr))},codexCb:function codexCb(){},evaluateCode:function evaluateCode(){var e=r.a.state.files[r.a.state.active];return l.a.interface.isWorkspaceCodex()?l.a.interface.codexRun(e.content).then(this.codexCb,this.codexCb):"server"===(null==e?void 0:e.evaluatedOn)?l.a.interface.run(e,l.a.state.workspaceType).then(this.evaluateCodeCb,this.evaluateCodeCb):null}};t.a=a.a.createStore(c)},kuGx:function(e,t,i){"use strict";var s=i("3WF5"),a=i.n(s),n=i("uM7l"),l=i.n(n),r=i("hhPA"),o=i.n(r),h=i("BzM2"),c=i("uBVh"),u=i("NZ0w"),f=i("yole"),d=i("u2tZ"),v=i("T7Vo"),F=i("dUu8"),p=i("bizM"),S={name:"CurrentFilesStore",mixins:[h.StateMixin.store],init:function init(){this.listenTo(f.a.openFile,this.openFile),this.listenTo(f.a.updateFile,this.updateFile),this.listenTo(f.a.closeFile,this.closeFile),this.listenTo(f.a.setCurrentOpenFile,this.setActive),this.listenTo(d.a,this.setCurrentFiles),this.listenTo(u.a.deleteFile,this.deleteFile),this.listenTo(u.a.rename.completed,this.renameFile),this.listenTo(u.a.reset.completed,this.refreshFiles),this.listenTo(u.a.restore.completed,this.refreshFiles),this.listenTo(u.a.solution.completed,this.refreshFiles),this.listenTo(u.a.saveFilesAndCheckWork,this.saveFilesAndCheckWork),this.listenTo(u.a.autoSaveFiles,this.autoSaveFiles),this.listenTo(u.a.checkWork,this.checkWork)},getInitialState:function getInitialState(){return{files:[],hasReceivedCurrentFiles:!1,active:0}},openFile:function openFile(e){var t=this,i=l()(this.state.files);if(this.isOpen(e.path)){var s=a()(i,"path").indexOf(e.path);this.setState({active:s,files:i})}else{var n=c.a(c.b(e.path));u.a.getFile(e.path,n).then(function(e){if(e){var s=i.push(e)-1;t.setState({active:s,files:i})}})}},closeFile:function closeFile(e){var t=l()(this.state.files),i=this.state.active;t.splice(e,1),this.state.active>=e&&(i=Math.max(this.state.active-1,0)),this.setState({active:i,files:t})},closeFileByName:function closeFileByName(e){if(this.isOpen(e)){var t=a()(this.state.files,"fileName").indexOf(e),i=this.active===t;this.closeFile(t,i)}},getFiles:function getFiles(){return this.state.files},setCurrentFiles:function setCurrentFiles(e){this.setState({files:e,hasReceivedCurrentFiles:!0,active:0})},setActive:function setActive(e){this.setState({active:e})},isOpen:function isOpen(e){return this.state.files.some(function(t){return t.path===e})},updateFile:function updateFile(e,t){var i=l()(this.state.files),s=!0,a=!1,n=void 0;try{for(var r,o=i[Symbol.iterator]();!(s=(r=o.next()).done);s=!0){var h=r.value;e.path===h.path&&(h.content=t)}}catch(e){a=!0,n=e}finally{try{s||null==o.return||o.return()}finally{if(a)throw n}}this.setState({files:i})},renameFile:function renameFile(e){var t=e.prevPath,i=e.newFile,s=l()(this.state.files),a=!0,n=!1,r=void 0;try{for(var o,h=s[Symbol.iterator]();!(a=(o=h.next()).done);a=!0){var c=o.value;c.path===t&&(c.path=i.path,c.name=i.name)}}catch(e){n=!0,r=e}finally{try{a||null==h.return||h.return()}finally{if(n)throw r}}this.setState({files:s})},deleteFile:function deleteFile(e){for(var t=l()(this.state.files),i=0;i<t.length;i+=1)t[i].path===e&&t.splice(i,1);this.setState({files:t})},reloadFile:function reloadFile(e){var t=this.state.files.findIndex(function(t){return t.path===e.path});if(t>-1){var i=l()(this.state.files);i[t].content=e.content,this.setState({files:i})}},refreshFiles:function refreshFiles(){var e=this,t=this.state.files.map(function(e){return e.path});u.a.getFiles(t).then(function(t){e.setState({files:t})})},updateEditorWorkspace:function updateEditorWorkspace(){var e=u.a.saveFilesAndCheckWork,t=e.completed,i=e.failed;u.a.updateFiles(this.state.files).then(t,i)},saveFilesAndCheckWork:function saveFilesAndCheckWork(){var e=u.a.saveFilesAndCheckWork,t=e.completed,i=e.failed;u.a.updateFiles(this.state.files).then(v.a.evaluateCode).then(u.a.persist).then(p.a.refresh).then(F.a.run).then(t,i)},autoSaveFiles:function autoSaveFiles(){var e=u.a.autoSaveFiles,t=e.completed,i=e.failed;u.a.updateFiles(this.state.files).then(u.a.persist).then(t,i)},checkWork:function checkWork(){var e=u.a.checkWork,t=e.completed,i=e.failed;F.a.run().then(p.a.refresh).then(t,i)}},k=o.a.createStore(S);t.a=k},nbz0:function(e,t,i){"use strict";var s=i("hhPA"),a=i.n(s),n=i("BzM2"),l={name:"LessonCursorStore",mixins:[n.StateMixin.store],getInitialState:function getInitialState(){return{lessonId:null,exerciseSlug:null}},setCursor:function setCursor(e){this.setState(e)},tokenize:function tokenize(){var e=this.state,t=e.lessonId,i=e.exerciseSlug;return t?"".concat(t,":").concat(i):""}};t.a=a.a.createStore(l)},t2YD:function(e,t,i){"use strict";var s=i("hhPA"),a=i.n(s),n=a.a.createActions([]);n.publishFilenames=a.a.createAction(),n.loadFiles=a.a.createAction({asyncResult:!0}),t.a=n},u2tZ:function(e,t,i){"use strict";var s=i("hhPA"),a=i.n(s),n=i("NZ0w"),l=i("ydTQ"),r=i("nbz0"),o=i("t2YD"),h=i("lkI2"),c=a.a.createStore({name:"ExerciseFileStore",init:function init(){var e=this;this.files=[],this.pendingFiles=[],this.workspaceSlug=null,o.a.publishFilenames.listen(this.setDefaultFiles),this.listenTo(o.a.loadFiles,function(){e.getDefaultFiles(l.a.state)}),this.listenTo(l.a,this.getDefaultFiles)},setDefaultFiles:function setDefaultFiles(e){this.files=e},getDefaultFiles:function getDefaultFiles(e){var t=this;if(!e.workspaceUnpersistedChanges){var i=e.workspaceObject&&e.workspaceSlug!==this.workspaceSlug,s=!this.fetchedFiles||this.fetchedFiles.join(",")!==this.files.join(","),a=r.a.tokenize()!==this.lastExerciseFetchedFor||i||s;e.workspaceObject&&a&&e.workspaceReady&&(this.workspaceSlug=e.workspaceSlug,this.fetchedFiles=this.files,this.lastExerciseFetchedFor=r.a.tokenize(),n.a.getFiles(this.files).then(function(i){var s=i.map(function(e){return e&&e.path}),a=!0,n=!1,l=void 0;try{for(var r,o=t.files[Symbol.iterator]();!(a=(r=o.next()).done);a=!0){var c=r.value;-1===s.indexOf(c)&&Object(h.a)("warn","Failed to get file '".concat(c,"' from workspace '").concat(e.workspaceSlug,"'"))}}catch(e){n=!0,l=e}finally{try{a||null==o.return||o.return()}finally{if(n)throw l}}t.trigger(i)}))}}});t.a=c},ud20:function(e,t,i){"use strict";var s=i("hhPA"),a=i.n(s),n=i("BzM2"),l=a.a.createStore({name:"SQLPreviewStore",mixins:[n.StateMixin.store],getInitialState:function getInitialState(){return{result:"",schema:[],error:""}}});t.a=l}}]);
//# sourceMappingURL=73.a6b4085c809aed889c78.chunk.js.map